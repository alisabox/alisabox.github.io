var I5=Object.defineProperty,T5=Object.defineProperties,S5=Object.getOwnPropertyDescriptors,PR=Object.getOwnPropertySymbols,A5=Object.prototype.hasOwnProperty,x5=Object.prototype.propertyIsEnumerable,OR=(Nt,ot,Ke)=>ot in Nt?I5(Nt,ot,{enumerable:!0,configurable:!0,writable:!0,value:Ke}):Nt[ot]=Ke,P=(Nt,ot)=>{for(var Ke in ot||(ot={}))A5.call(ot,Ke)&&OR(Nt,Ke,ot[Ke]);if(PR)for(var Ke of PR(ot))x5.call(ot,Ke)&&OR(Nt,Ke,ot[Ke]);return Nt},Ut=(Nt,ot)=>T5(Nt,S5(ot));(self.webpackChunktodo_list_angular=self.webpackChunktodo_list_angular||[]).push([[179],{995:function(Nt,ot){!function(Ke){"use strict";function ge(T){return Array.prototype.slice.call(T)}function fs(T){return new Promise(function(K,re){T.onsuccess=function(){K(T.result)},T.onerror=function(){re(T.error)}})}function Vr(T,K,re){var ae,ee=new Promise(function(Et,Br){fs(ae=T[K].apply(T,re)).then(Et,Br)});return ee.request=ae,ee}function hs(T,K,re){var ae=Vr(T,K,re);return ae.then(function(ee){if(ee)return new Hn(ee,ae.request)})}function Fe(T,K,re){re.forEach(function(ae){Object.defineProperty(T.prototype,ae,{get:function(){return this[K][ae]},set:function(ee){this[K][ae]=ee}})})}function ps(T,K,re,ae){ae.forEach(function(ee){ee in re.prototype&&(T.prototype[ee]=function(){return Vr(this[K],ee,arguments)})})}function pi(T,K,re,ae){ae.forEach(function(ee){ee in re.prototype&&(T.prototype[ee]=function(){return this[K][ee].apply(this[K],arguments)})})}function Ko(T,K,re,ae){ae.forEach(function(ee){ee in re.prototype&&(T.prototype[ee]=function(){return hs(this[K],ee,arguments)})})}function Ct(T){this._index=T}function Hn(T,K){this._cursor=T,this._request=K}function Ht(T){this._store=T}function vn(T){this._tx=T,this.complete=new Promise(function(K,re){T.oncomplete=function(){K()},T.onerror=function(){re(T.error)},T.onabort=function(){re(T.error)}})}function gs(T,K,re){this._db=T,this.oldVersion=K,this.transaction=new vn(re)}function ms(T){this._db=T}Fe(Ct,"_index",["name","keyPath","multiEntry","unique"]),ps(Ct,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Ko(Ct,"_index",IDBIndex,["openCursor","openKeyCursor"]),Fe(Hn,"_cursor",["direction","key","primaryKey","value"]),ps(Hn,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(T){T in IDBCursor.prototype&&(Hn.prototype[T]=function(){var K=this,re=arguments;return Promise.resolve().then(function(){return K._cursor[T].apply(K._cursor,re),fs(K._request).then(function(ae){if(ae)return new Hn(ae,K._request)})})})}),Ht.prototype.createIndex=function(){return new Ct(this._store.createIndex.apply(this._store,arguments))},Ht.prototype.index=function(){return new Ct(this._store.index.apply(this._store,arguments))},Fe(Ht,"_store",["name","keyPath","indexNames","autoIncrement"]),ps(Ht,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Ko(Ht,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),pi(Ht,"_store",IDBObjectStore,["deleteIndex"]),vn.prototype.objectStore=function(){return new Ht(this._tx.objectStore.apply(this._tx,arguments))},Fe(vn,"_tx",["objectStoreNames","mode"]),pi(vn,"_tx",IDBTransaction,["abort"]),gs.prototype.createObjectStore=function(){return new Ht(this._db.createObjectStore.apply(this._db,arguments))},Fe(gs,"_db",["name","version","objectStoreNames"]),pi(gs,"_db",IDBDatabase,["deleteObjectStore","close"]),ms.prototype.transaction=function(){return new vn(this._db.transaction.apply(this._db,arguments))},Fe(ms,"_db",["name","version","objectStoreNames"]),pi(ms,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(T){[Ht,Ct].forEach(function(K){T in K.prototype&&(K.prototype[T.replace("open","iterate")]=function(){var re=ge(arguments),ae=re[re.length-1],ee=this._store||this._index,Et=ee[T].apply(ee,re.slice(0,-1));Et.onsuccess=function(){ae(Et.result)}})})}),[Ct,Ht].forEach(function(T){T.prototype.getAll||(T.prototype.getAll=function(K,re){var ae=this,ee=[];return new Promise(function(Et){ae.iterateCursor(K,function(Br){Br?(ee.push(Br.value),void 0===re||ee.length!=re?Br.continue():Et(ee)):Et(ee)})})})}),Ke.openDb=function(T,K,re){var ae=Vr(indexedDB,"open",[T,K]),ee=ae.request;return ee&&(ee.onupgradeneeded=function(Et){re&&re(new gs(ee.result,Et.oldVersion,ee.transaction))}),ae.then(function(Et){return new ms(Et)})},Ke.deleteDb=function(T){return Vr(indexedDB,"deleteDatabase",[T])},Object.defineProperty(Ke,"__esModule",{value:!0})}(ot)},2:(Nt,ot,Ke)=>{"use strict";function ge(t){return"function"==typeof t}function fs(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Vr=fs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function hs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Fe{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ge(r))try{r()}catch(s){e=s instanceof Vr?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{Ko(s)}catch(o){e=null!=e?e:[],o instanceof Vr?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Vr(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ko(e);else{if(e instanceof Fe){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&hs(n,e)}remove(e){const{_teardowns:n}=this;n&&hs(n,e),e instanceof Fe&&e._removeParent(this)}}Fe.EMPTY=(()=>{const t=new Fe;return t.closed=!0,t})();const ps=Fe.EMPTY;function pi(t){return t instanceof Fe||t&&"closed"in t&&ge(t.remove)&&ge(t.add)&&ge(t.unsubscribe)}function Ko(t){ge(t)?t():t.unsubscribe()}const Ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Hn={setTimeout(...t){const{delegate:e}=Hn;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=Hn;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Ht(t){Hn.setTimeout(()=>{const{onUnhandledError:e}=Ct;if(!e)throw t;e(t)})}function vn(){}const gs=Qo("C",void 0,void 0);function Qo(t,e,n){return{kind:t,value:e,error:n}}let T=null;function K(t){if(Ct.useDeprecatedSynchronousErrorHandling){const e=!T;if(e&&(T={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=T;if(T=null,n)throw r}}else t()}class ae extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,pi(e)&&e.add(this)):this.destination=kR}static create(e,n,r){return new ee(e,n,r)}next(e){this.isStopped?tf(Qo("N",e,void 0),this):this._next(e)}error(e){this.isStopped?tf(Qo("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tf(gs,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ee extends ae{constructor(e,n,r){let i;if(super(),ge(e))i=e;else if(e){let s;({next:i,error:n,complete:r}=e),this&&Ct.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?Et(i):vn,error:Et(null!=n?n:Br),complete:r?Et(r):vn}}}function Et(t,e){return(...n)=>{try{t(...n)}catch(r){Ct.useDeprecatedSynchronousErrorHandling?function(t){Ct.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=t)}(r):Ht(r)}}}function Br(t){throw t}function tf(t,e){const{onStoppedNotification:n}=Ct;n&&Hn.setTimeout(()=>n(t,e))}const kR={closed:!0,next:vn,error:Br,complete:vn},nf="function"==typeof Symbol&&Symbol.observable||"@@observable";function gi(t){return t}let be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function(t){return t&&t instanceof ae||function(t){return t&&ge(t.next)&&ge(t.error)&&ge(t.complete)}(t)&&pi(t)}(n)?n:new ee(n,r,i);return K(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=wv(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(l){s(l),null==o||o.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[nf](){return this}pipe(...n){return function(t){return 0===t.length?gi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=wv(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function wv(t){var e;return null!==(e=null!=t?t:Ct.Promise)&&void 0!==e?e:Promise}const VR=fs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $n=(()=>{class t extends be{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new bv(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new VR}next(n){K(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){K(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){K(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ps:(s.push(n),new Fe(()=>hs(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new be;return n.source=this,n}}return t.create=(e,n)=>new bv(e,n),t})();class bv extends $n{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:ps}}function Dv(t){return ge(null==t?void 0:t.lift)}function Qe(t){return e=>{if(Dv(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Ye extends ae{constructor(e,n,r,i,s){super(e),this.onFinalize=s,this._next=n?function(o){try{n(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function fe(t,e){return Qe((n,r)=>{let i=0;n.subscribe(new Ye(r,s=>{r.next(t.call(e,s,i++))}))})}function mi(t){return this instanceof mi?(this.v=t,this):new mi(t)}function UR(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,m){s.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{!function(f){f.value instanceof mi?Promise.resolve(f.value.v).then(c,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function HR(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const Av=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function xv(t){return ge(null==t?void 0:t.then)}function Rv(t){return ge(t[nf])}function Mv(t){return Symbol.asyncIterator&&ge(null==t?void 0:t[Symbol.asyncIterator])}function Nv(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Pv="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Ov(t){return ge(null==t?void 0:t[Pv])}function kv(t){return UR(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield mi(n.read());if(i)return yield mi(void 0);yield yield mi(r)}}finally{n.releaseLock()}})}function Fv(t){return ge(null==t?void 0:t.getReader)}function Wn(t){if(t instanceof be)return t;if(null!=t){if(Rv(t))return function(t){return new be(e=>{const n=t[nf]();if(ge(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Av(t))return function(t){return new be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(xv(t))return function(t){return new be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ht)})}(t);if(Mv(t))return Lv(t);if(Ov(t))return function(t){return new be(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Fv(t))return function(t){return Lv(kv(t))}(t)}throw Nv(t)}function Lv(t){return new be(e=>{(function(t,e){var n,r,i,s;return function(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=HR(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function gr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Je(t,e,n=1/0){return ge(e)?Je((r,i)=>fe((s,o)=>e(r,s,i,o))(Wn(t(r,i))),n):("number"==typeof e&&(n=e),Qe((r,i)=>function(t,e,n,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&e.complete()},h=m=>c<r?p(m):l.push(m),p=m=>{c++;let g=!1;Wn(n(m,u++)).subscribe(new Ye(e,y=>{e.next(y)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<r;){const y=l.shift();p(y)}f()}catch(y){e.error(y)}}))};return t.subscribe(new Ye(e,h,()=>{d=!0,f()})),()=>{}}(r,i,t,n)))}function Yo(t=1/0){return Je(gi,t)}const zn=new be(t=>t.complete());function sf(t){return t[t.length-1]}function Jo(t){return function(t){return t&&ge(t.schedule)}(sf(t))?t.pop():void 0}function tc(t,e=0){return Qe((n,r)=>{n.subscribe(new Ye(r,i=>gr(r,t,()=>r.next(i),e),()=>gr(r,t,()=>r.complete(),e),i=>gr(r,t,()=>r.error(i),e)))})}function nc(t,e=0){return Qe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Vv(t,e){if(!t)throw new Error("Iterable cannot be null");return new be(n=>{gr(n,e,()=>{const r=t[Symbol.asyncIterator]();gr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ze(t,e){return e?function(t,e){if(null!=t){if(Rv(t))return function(t,e){return Wn(t).pipe(nc(e),tc(e))}(t,e);if(Av(t))return function(t,e){return new be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(xv(t))return function(t,e){return Wn(t).pipe(nc(e),tc(e))}(t,e);if(Mv(t))return Vv(t,e);if(Ov(t))return function(t,e){return new be(n=>{let r;return gr(n,e,()=>{r=t[Pv](),gr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ge(null==r?void 0:r.return)&&r.return()})}(t,e);if(Fv(t))return function(t,e){return Vv(kv(t),e)}(t,e)}throw Nv(t)}(t,e):Wn(t)}function rc(t){return t<=0?()=>zn:Qe((e,n)=>{let r=0;e.subscribe(new Ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function of(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(rc(1)).subscribe(()=>t())}function he(t){for(let e in t)if(t[e]===he)return e;throw Error("Could not find renamed property on target object.")}function z(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(z).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function lf(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const uM=he({__forward_ref__:he});function cf(t){return t.__forward_ref__=cf,t.toString=function(){return z(this())},t}function x(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(uM)&&t.__forward_ref__===cf}(t)?t():t}class _i extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function V(t){return"string"==typeof t?t:null==t?"":String(t)}function wt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():V(t)}function ic(t,e){const n=e?` in ${e}`:"";throw new _i("201",`No provider for ${wt(t)} found${n}`)}function Wt(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tn(t){return{providers:t.providers||[],imports:t.imports||[]}}function _r(t){return jv(t,sc)||jv(t,Hv)}function jv(t,e){return t.hasOwnProperty(e)?t[e]:null}function Uv(t){return t&&(t.hasOwnProperty(df)||t.hasOwnProperty(_M))?t[df]:null}const sc=he({\u0275prov:he}),df=he({\u0275inj:he}),Hv=he({ngInjectableDef:he}),_M=he({ngInjectorDef:he});var R=(()=>((R=R||{})[R.Default=0]="Default",R[R.Host=1]="Host",R[R.Self=2]="Self",R[R.SkipSelf=4]="SkipSelf",R[R.Optional=8]="Optional",R))();let ff;function jr(t){const e=ff;return ff=t,e}function $v(t,e,n){const r=_r(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&R.Optional?null:void 0!==e?e:void ic(z(t),"Injector")}function Ur(t){return{toString:t}.toString()}var nn=(()=>((nn=nn||{})[nn.OnPush=0]="OnPush",nn[nn.Default=1]="Default",nn))(),zt=(()=>{return(t=zt||(zt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",zt;var t})();const vM="undefined"!=typeof globalThis&&globalThis,CM="undefined"!=typeof window&&window,EM="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,le=vM||"undefined"!=typeof global&&global||CM||EM,_s={},me=[],oc=he({\u0275cmp:he}),hf=he({\u0275dir:he}),pf=he({\u0275pipe:he}),Wv=he({\u0275mod:he}),yr=he({\u0275fac:he}),Zo=he({__NG_ELEMENT_ID__:he});let wM=0;function ys(t){return Ur(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===nn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||me,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||zt.Emulated,id:"c",styles:t.styles||me,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=wM++,r.inputs=Kv(t.inputs,n),r.outputs=Kv(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(zv):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(qv):null,r})}function zv(t){return ht(t)||function(t){return t[hf]||null}(t)}function qv(t){return function(t){return t[pf]||null}(t)}const Gv={};function qn(t){return Ur(()=>{const e={type:t.type,bootstrap:t.bootstrap||me,declarations:t.declarations||me,imports:t.imports||me,exports:t.exports||me,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Gv[t.id]=t.type),e})}function Kv(t,e){if(null==t)return _s;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ft=ys;function ht(t){return t[oc]||null}function rn(t,e){const n=t[Wv]||null;if(!n&&!0===e)throw new Error(`Type ${z(t)} does not have '\u0275mod' property.`);return n}const $=11;function Gn(t){return Array.isArray(t)&&"object"==typeof t[1]}function En(t){return Array.isArray(t)&&!0===t[1]}function _f(t){return 0!=(8&t.flags)}function uc(t){return 2==(2&t.flags)}function dc(t){return 1==(1&t.flags)}function wn(t){return null!==t.template}function AM(t){return 0!=(512&t[2])}function wi(t,e){return t.hasOwnProperty(yr)?t[yr]:null}class Yv{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function bi(){return Jv}function Jv(t){return t.type.prototype.ngOnChanges&&(t.setInput=NM),MM}function MM(){const t=Xv(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===_s)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function NM(t,e,n,r){const i=Xv(t)||function(t,e){return t[Zv]=e}(t,{previous:_s,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new Yv(l&&l.currentValue,e,o===_s),t[r]=e}bi.ngInherit=!0;const Zv="__ngSimpleChanges__";function Xv(t){return t[Zv]||null}let Cf;function Re(t){return!!t.listen}const nC={createRenderer:(t,e)=>void 0!==Cf?Cf:"undefined"!=typeof document?document:void 0};function Le(t){for(;Array.isArray(t);)t=t[0];return t}function an(t,e){return Le(e[t.index])}function wf(t,e){return t.data[e]}function Gt(t,e){const n=e[t];return Gn(n)?n:n[0]}function bf(t){return 128==(128&t[2])}function $r(t,e){return null==e?null:t[e]}function iC(t){t[18]=0}function Df(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const k={lFrame:fC(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function sC(){return k.bindingsEnabled}function v(){return k.lFrame.lView}function ne(){return k.lFrame.tView}function bn(t){return k.lFrame.contextLView=t,t[8]}function Ue(){let t=oC();for(;null!==t&&64===t.type;)t=t.parent;return t}function oC(){return k.lFrame.currentTNode}function Kn(t,e){const n=k.lFrame;n.currentTNode=t,n.isParent=e}function If(){return k.lFrame.isParent}function hc(){return k.isInCheckNoChangesMode}function pc(t){k.isInCheckNoChangesMode=t}function Ds(){return k.lFrame.bindingIndex++}function GM(t,e){const n=k.lFrame;n.bindingIndex=n.bindingRootIndex=t,Sf(e)}function Sf(t){k.lFrame.currentDirectiveIndex=t}function xf(t){k.lFrame.currentQueryIndex=t}function QM(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function uC(t,e,n){if(n&R.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&R.Host||(i=QM(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=k.lFrame=dC();return r.currentTNode=e,r.lView=t,!0}function gc(t){const e=dC(),n=t[1];k.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dC(){const t=k.lFrame,e=null===t?null:t.child;return null===e?fC(t):e}function fC(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function hC(){const t=k.lFrame;return k.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pC=hC;function mc(){const t=hC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Dt(){return k.lFrame.selectedIndex}function Wr(t){k.lFrame.selectedIndex=t}function Me(){const t=k.lFrame;return wf(t.tView,t.selectedIndex)}function _c(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function yc(t,e,n){gC(t,e,3,n)}function vc(t,e,n,r){(3&t[2])===n&&gC(t,e,n,r)}function Rf(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function gC(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[18]+=65536),(a<s||-1==s)&&(iN(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function iN(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class ra{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Cc(t,e,n){const r=Re(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];Nf(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function mC(t){return 3===t||4===t||6===t}function Nf(t){return 64===t.charCodeAt(0)}function Ec(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||_C(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function _C(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function yC(t){return-1!==t}function Is(t){return 32767&t}function Ts(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Pf=!0;function wc(t){const e=Pf;return Pf=t,e}let uN=0;function sa(t,e){const n=kf(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Of(r.data,t),Of(e,null),Of(r.blueprint,null));const i=bc(t,e),s=t.injectorIndex;if(yC(i)){const o=Is(i),a=Ts(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Of(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kf(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function bc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Dc(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zo)&&(r=n[Zo]),null==r&&(r=n[Zo]=uN++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function EC(t,e,n){if(n&R.Optional)return t;ic(e,"NodeInjector")}function wC(t,e,n,r){if(n&R.Optional&&void 0===r&&(r=null),0==(n&(R.Self|R.Host))){const i=t[9],s=jr(void 0);try{return i?i.get(e,r,n&R.Optional):$v(e,r,n&R.Optional)}finally{jr(s)}}return EC(r,e,n)}function bC(t,e,n,r=R.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Zo)?t[Zo]:void 0;return"number"==typeof e?e>=0?255&e:hN:e}(n);if("function"==typeof s){if(!uC(e,t,r))return r&R.Host?EC(i,n,r):wC(e,n,r,i);try{const o=s(r);if(null!=o||r&R.Optional)return o;ic(n)}finally{pC()}}else if("number"==typeof s){let o=null,a=kf(t,e),l=-1,c=r&R.Host?e[16][6]:null;for((-1===a||r&R.SkipSelf)&&(l=-1===a?bc(t,e):e[a+8],-1!==l&&TC(r,!1)?(o=e[1],a=Is(l),e=Ts(l,e)):a=-1);-1!==a;){const u=e[1];if(IC(s,a,u.data)){const d=pN(a,e,n,o,r,c);if(d!==DC)return d}l=e[a+8],-1!==l&&TC(r,e[1].data[a+8]===c)&&IC(s,a,e)?(o=u,a=Is(l),e=Ts(l,e)):a=-1}}}return wC(e,n,r,i)}const DC={};function hN(){return new Ss(Ue(),v())}function pN(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=function(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){const h=o[l];if(h&&wn(h)&&h.type===n)return l}return null}(a,o,n,null==r?uc(a)&&Pf:r!=o&&0!=(3&a.type),i&R.Host&&s===a);return null!==u?oa(e,o,u,a):DC}function oa(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof ra}(i)){const o=i;o.resolving&&function(t,e){throw new _i("200",`Circular dependency in DI detected for ${t}`)}(wt(s[n]));const a=wc(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?jr(o.injectImpl):null;uC(t,r,R.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Jv(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&jr(l),wc(a),o.resolving=!1,pC()}}return i}function IC(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function TC(t,e){return!(t&R.Self||t&R.Host&&e)}class Ss{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return bC(this._tNode,this._lView,e,r,n)}}const xs="__parameters__";function Di(t,e,n){return Ur(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(xs)?l[xs]:Object.defineProperty(l,xs,{value:[]})[xs];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Y{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=O({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const vN=new Y("AnalyzeForEntryComponents");function Qn(t,e){t.forEach(n=>Array.isArray(n)?Qn(n,e):e(n))}function Tc(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ii(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const fa={},Uf="__NG_DI_FLAG__",Ns="ngTempTokenPath",xN=/\n/gm,Hf="__source",$f=he({provide:String,useValue:he});let ha;function Ps(t){const e=ha;return ha=t,e}function MN(t,e=R.Default){if(void 0===ha)throw new Error("inject() must be called from an injection context");return null===ha?$v(t,void 0,e):ha.get(t,e&R.Optional?null:void 0,e)}function D(t,e=R.Default){return(ff||MN)(x(t),e)}function Ti(t){const e=[];for(let n=0;n<t.length;n++){const r=x(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=R.Default;for(let o=0;o<r.length;o++){const a=r[o],l=NN(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(D(i,s))}else e.push(D(r))}return e}function pa(t,e){return t[Uf]=e,t.prototype[Uf]=e,t}function NN(t){return t[Uf]}function MC(t,e,n,r){const i=t[Ns];throw e[Hf]&&i.unshift(e[Hf]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=z(e);if(Array.isArray(e))i=e.map(z).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):z(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(xN,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ns]=null,t}const Os=pa(Di("Inject",t=>({token:t})),-1),et=pa(Di("Optional"),8),Gr=pa(Di("SkipSelf"),4);class Si{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Yn(t,e){const n=function(t){return t instanceof Si&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}const nP=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rP=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var _e=(()=>((_e=_e||{})[_e.NONE=0]="NONE",_e[_e.HTML=1]="HTML",_e[_e.STYLE=2]="STYLE",_e[_e.SCRIPT=3]="SCRIPT",_e[_e.URL=4]="URL",_e[_e.RESOURCE_URL=5]="RESOURCE_URL",_e))();function Jf(t){const e=function(){const t=v();return t&&t[12]}();return e?e.sanitize(_e.URL,t)||"":Yn(t,"URL")?function(t){return t instanceof Si?t.changingThisBreaksApplicationSecurity:t}(t):function(t){return(t=String(t)).match(nP)||t.match(rP)?t:"unsafe:"+t}(V(t))}const YC="__ngContext__";function gt(t,e){t[YC]=e}function Xf(t){const e=function(t){return t[YC]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Pc(t){return t.ngOriginalError}function IP(t,...e){t.error(...e)}class Ai{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=this._findContext(e),i=(t=e)&&t.ngErrorLogger||IP;var t;i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(Pc(e)):null}_findOriginalError(e){let n=e&&Pc(e);for(;n&&Pc(n);)n=Pc(n);return n||null}}const sE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(le))();function Zn(t){return t instanceof Function?t():t}var Yt=(()=>((Yt=Yt||{})[Yt.Important=1]="Important",Yt[Yt.DashCase=2]="DashCase",Yt))();function nh(t,e){return undefined(t,e)}function Ca(t){const e=t[3];return En(e)?e[3]:e}function rh(t){return uE(t[13])}function ih(t){return uE(t[4])}function uE(t){for(;null!==t&&!En(t);)t=t[4];return t}function Vs(t,e,n,r,i){if(null!=r){let s,o=!1;En(r)?s=r:Gn(r)&&(o=!0,r=r[0]);const a=Le(r);0===t&&null!==n?null==i?mE(e,n,a):xi(e,n,a,i||null,!0):1===t&&null!==n?xi(e,n,a,i||null,!0):2===t?function(t,e,n){const r=kc(t,e);r&&function(t,e,n,r){Re(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Le(n)&&Vs(e,t,r,s,i);for(let a=10;a<n.length;a++){const l=n[a];Ea(l[1],l,t,e,r,s)}}(e,t,s,n,i)}}function oh(t,e,n){return Re(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function fE(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Df(i,-1)),n.splice(r,1)}function ah(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&fE(i,r),e>0&&(t[n-1][4]=r[4]);const s=Ii(t,10+e);!function(t,e){Ea(t,e,e[$],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function hE(t,e){if(!(256&e[2])){const n=e[$];Re(n)&&n.destroyNode&&Ea(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return lh(t[1],t);for(;e;){let n=null;if(Gn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Gn(e)&&lh(e[1],e),e=e[3];null===e&&(e=t),Gn(e)&&lh(e[1],e),n=e&&e[4]}e=n}}(e)}}function lh(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ra)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Le(e[o]),l=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Re(e[$])&&e[$].destroy();const n=e[17];if(null!==n&&En(e[3])){n!==e[3]&&fE(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function pE(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===zt.None||i===zt.Emulated)return null}return an(r,n)}(t,e.parent,n)}function xi(t,e,n,r,i){Re(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function mE(t,e,n){Re(t)?t.appendChild(e,n):e.appendChild(n)}function _E(t,e,n,r,i){null!==r?xi(t,e,n,r,i):mE(t,e,n)}function kc(t,e){return Re(t)?t.parentNode(e):e.parentNode}let CE=function(t,e,n){return 40&t.type?an(t,n):null};function Fc(t,e,n,r){const i=pE(t,r,e),s=e[$],a=function(t,e,n){return CE(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)_E(s,i,n[l],a,!1);else _E(s,i,n,a,!1)}function Lc(t,e){if(null!==e){const n=e.type;if(3&n)return an(e,t);if(4&n)return uh(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Lc(t,r);{const i=t[e.index];return En(i)?uh(-1,i):Le(i)}}if(32&n)return nh(e,t)()||Le(t[e.index]);{const r=wE(t,e);return null!==r?Array.isArray(r)?r[0]:Lc(Ca(t[16]),r):Lc(t,e.next)}}return null}function wE(t,e){return null!==e?t[16][6].projection[e.projection]:null}function uh(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Lc(r,i)}return e[7]}function dh(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&gt(Le(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)dh(t,e,n.child,r,i,s,!1),Vs(e,t,i,a,s);else if(32&l){const c=nh(n,r);let u;for(;u=c();)Vs(e,t,i,u,s);Vs(e,t,i,a,s)}else 16&l?DE(t,e,r,n,i,s):Vs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ea(t,e,n,r,i,s){dh(n,r,t.firstChild,e,i,s,!1)}function DE(t,e,n,r,i,s){const o=n[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Vs(e,t,i,l[c],s);else dh(t,e,l,o[3],i,s,!0)}function IE(t,e,n){Re(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function fh(t,e,n){Re(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function TE(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const SE="ng-template";function JP(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==TE(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function AE(t){return 4===t.type&&t.value!==SE}function ZP(t,e,n){return e===(4!==t.type||n?t.value:SE)}function XP(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(mC(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!ZP(t,l,n)||""===l&&1===e.length){if(Dn(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!JP(t.attrs,c,n)){if(Dn(r))return!1;o=!0}continue}const d=e1(8&r?"class":l,i,AE(t),n);if(-1===d){if(Dn(r))return!1;o=!0;continue}if(""!==c){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==TE(h,c,0)||2&r&&c!==f){if(Dn(r))return!1;o=!0}}}}else{if(!o&&!Dn(r)&&!Dn(l))return!1;if(o&&Dn(l))continue;o=!1,r=l|1&r}}return Dn(r)||o}function Dn(t){return 0==(1&t)}function e1(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function xE(t,e,n=!1){for(let r=0;r<e.length;r++)if(XP(t,e[r],n))return!0;return!1}function RE(t,e){return t?":not("+e.trim()+")":e}function s1(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Dn(o)&&(e+=RE(s,i),i=""),r=o,s=s||!Dn(r);n++}return""!==i&&(e+=RE(s,i)),e}const B={};function Xn(t){ME(ne(),v(),Dt()+t,hc())}function ME(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&yc(e,s,n)}else{const s=t.preOrderHooks;null!==s&&vc(e,s,0,n)}Wr(n)}function HE(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];xf(i),o.contentQueries(2,e[s],s)}}}function wa(t,e,n,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,iC(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[$]=a||t&&t[$],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function Bs(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=oC(),o=If(),l=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(t,e,n,r,i),k.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const t=k.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Kn(s,!0),s}function js(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ba(t,e,n){gc(e);try{const r=t.viewQuery;null!==r&&Ph(1,r,n);const i=t.template;null!==i&&$E(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&HE(t,e),t.staticViewQueries&&Ph(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)U1(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,mc()}}function Us(t,e,n,r){const i=e[2];if(256==(256&i))return;gc(e);const s=hc();try{iC(e),function(t){k.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&$E(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&yc(e,c,null)}else{const c=t.preOrderHooks;null!==c&&vc(e,c,0,null),Rf(e,0)}if(function(t){for(let e=rh(t);null!==e;e=ih(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Df(s,1),i[2]|=1024}}}(e),function(t){for(let e=rh(t);null!==e;e=ih(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];bf(r)&&Us(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&HE(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&yc(e,c)}else{const c=t.contentHooks;null!==c&&vc(e,c,1),Rf(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Wr(~i);else{const s=i,o=n[++r],a=n[++r];GM(o,s),a(2,e[s])}}}finally{Wr(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)j1(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Ph(2,l,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&yc(e,c)}else{const c=t.viewHooks;null!==c&&vc(e,c,2),Rf(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Df(e[3],-1))}finally{mc()}}function E1(t,e,n,r){const i=e[10],s=!hc(),o=function(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&ba(t,e,r),Us(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function $E(t,e,n,r,i){const s=Dt(),o=2&r;try{Wr(-1),o&&e.length>20&&ME(t,e,20,hc()),n(r,i)}finally{Wr(s)}}function Ih(t,e,n){!sC()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||sa(n,e),gt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],c=wn(l);c&&k1(e,n,l);const u=oa(e,t,a,n);gt(u,e),null!==o&&F1(0,a-i,u,l,0,o),c&&(Gt(n.index,e)[8]=u)}}(t,e,n,an(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=k.lFrame.currentDirectiveIndex;try{Wr(o);for(let l=r;l<i;l++){const c=t.data[l],u=e[l];Sf(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&ZE(c,u)}}finally{Wr(-1),Sf(a)}}(t,e,n))}function Th(t,e,n=an){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function zE(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Uc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Uc(t,e,n,r,i,s,o,a,l,c){const u=20+r,d=u+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:B);return n}(u,d),h="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function QE(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Sh(t,e,n,r){let i=!1;if(sC()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];xE(n,o.selectors,!1)&&(i||(i=[]),Dc(sa(n,e),t,o.type),wn(o)?(XE(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,ew(n,t.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=js(t,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];n.mergedAttrs=Ec(n.mergedAttrs,d.hostAttrs),tw(t,n,e,c,d),O1(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!l&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),c++}!function(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,f=null===s||AE(e)?null:L1(d,s);o.push(f),a=QE(d,c,a),l=QE(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new _i("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Ec(n.mergedAttrs,n.attrs),i}function JE(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function ZE(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function XE(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function O1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;wn(e)&&(n[""]=t)}}function ew(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function tw(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=wi(i.type)),o=new ra(s,wn(i),null);t.blueprint[r]=o,n[r]=o,JE(t,e,0,r,js(t,n,i.hostVars,B),i)}function k1(t,e,n){const r=an(e,t),i=zE(n),s=t[10],o=Hc(t,wa(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function er(t,e,n,r,i,s){const o=an(t,e);!function(t,e,n,r,i,s,o){if(null==s)Re(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?V(s):o(s,r||"",i);Re(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[$],o,s,t.value,n,r,i)}function F1(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(n,d,c,u):n[u]=d}}}function L1(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function nw(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function j1(t,e){const n=Gt(e,t);if(bf(n)){const r=n[1];80&n[2]?Us(r,n,r.template,n[8]):n[5]>0&&xh(n)}}function xh(t){for(let r=rh(t);null!==r;r=ih(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Us(o,s,o.template,s[8])}else s[5]>0&&xh(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Gt(n[r],t);bf(i)&&i[5]>0&&xh(i)}}function U1(t,e){const n=Gt(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),ba(r,n,n[8])}function Hc(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Rh(t){for(;t;){t[2]|=64;const e=Ca(t);if(AM(t)&&!e)return t;t=e}return null}function Nh(t,e,n){const r=e[10];r.begin&&r.begin();try{Us(t,e,t.template,n)}catch(i){throw aw(e,i),i}finally{r.end&&r.end()}}function rw(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Xf(n),i=r[1];E1(i,r,i.template,n)}}(t[8])}function Ph(t,e,n){xf(0),e(t,n)}const q1=(()=>Promise.resolve(null))();function iw(t){return t[7]||(t[7]=[])}function sw(t){return t.cleanup||(t.cleanup=[])}function aw(t,e){const n=t[9],r=n?n.get(Ai,null):null;r&&r.handleError(e)}function lw(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function wr(t,e,n){const r=function(t,e){return Le(e[t])}(e,t);!function(t,e,n){Re(t)?t.setValue(e,n):e.textContent=n}(t[$],r,n)}function $c(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=lf(i,a):2==s&&(r=lf(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Da=new Y("INJECTOR",-1);class cw{get(e,n=fa){if(n===fa){const r=new Error(`NullInjectorError: No provider for ${z(e)}!`);throw r.name="NullInjectorError",r}return n}}const Ia=new Y("Set Injector scope."),Ta={},Q1={};let Oh;function uw(){return void 0===Oh&&(Oh=new cw),Oh}function dw(t,e=null,n=null,r){return new J1(t,n,e||uw(),r)}class J1{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Qn(n,a=>this.processProvider(a,e,n)),Qn([e],a=>this.processInjectorType(a,[],s)),this.records.set(Da,Hs(void 0,this));const o=this.records.get(Ia);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:z(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=fa,r=R.Default){this.assertNotDestroyed();const i=Ps(this),s=jr(void 0);try{if(!(r&R.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=("function"==typeof(t=e)||"object"==typeof t&&t instanceof Y)&&_r(e);a=l&&this.injectableDefInScope(l)?Hs(kh(e),Ta):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&R.Self?uw():this.parent).get(e,n=r&R.Optional&&n===fa?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Ns]=o[Ns]||[]).unshift(z(e)),i)throw o;return MC(o,e,"R3InjectorError",this.source)}throw o}finally{jr(s),Ps(i)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(z(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=x(e)))return!1;let i=Uv(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=Uv(s)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(o);try{Qn(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:f,providers:h}=u[d];Qn(h,p=>this.processProvider(p,f,h||me))}}this.injectorDefTypes.add(o);const l=wi(o)||(()=>new o);this.records.set(o,Hs(l,Ta));const c=i.providers;if(null!=c&&!a){const u=e;Qn(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=$s(e=x(e))?e:x(e&&e.provide);const s=function(t,e,n){return hw(t)?Hs(void 0,t.useValue):Hs(function(t,e,n){let r;if($s(t)){const i=x(t);return wi(i)||kh(i)}if(hw(t))r=()=>x(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Ti(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>D(x(t.useExisting));else{const i=x(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return wi(i)||kh(i);r=()=>new i(...Ti(t.deps))}return r}(t),Ta)}(e);if($s(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Hs(void 0,Ta,!0),o.factory=()=>Ti(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Ta&&(n.value=Q1,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(t=n.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var t}injectableDefInScope(e){if(!e.providedIn)return!1;const n=x(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function kh(t){const e=_r(t),n=null!==e?e.factory:wi(t);if(null!==n)return n;if(t instanceof Y)throw new Error(`Token ${z(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${z(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[sc]||t[Hv]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Hs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function hw(t){return null!==t&&"object"==typeof t&&$f in t}function $s(t){return"function"==typeof t}const pw=function(t,e,n){return function(t,e=null,n=null,r){const i=dw(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ce=(()=>{class t{static create(n,r){return Array.isArray(n)?pw(n,r,""):pw(n.providers,n.parent,n.name||"")}}return t.THROW_IF_NOT_FOUND=fa,t.NULL=new cw,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>D(Da)}),t.__NG_ELEMENT_ID__=-1,t})();function yO(t,e){_c(Xf(t)[1],Ue())}let Wc=null;function Ws(){if(!Wc){const t=le.Symbol;if(t&&t.iterator)Wc=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Wc=r)}}}return Wc}function Aa(t){return!!Hh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ws()in t)}function Hh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function mt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function qc(t,e,n,r){const i=v();return mt(i,Ds(),e)&&(ne(),er(Me(),i,t,e,n,r)),qc}function Yr(t,e,n,r,i,s,o,a){const l=v(),c=ne(),u=t+20,d=c.firstCreatePass?function(t,e,n,r,i,s,o,a,l){const c=e.consts,u=Bs(e,t,4,o||null,$r(c,a));Sh(e,n,u,$r(c,l)),_c(e,u);const d=u.tViews=Uc(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,s,o):c.data[u];Kn(d,!1);const f=l[$].createComment("");Fc(c,l,f,d),gt(f,l),Hc(l,l[u]=nw(f,l,f,d)),dc(d)&&Ih(c,l,d),null!=o&&Th(l,d,a)}function Ra(t){return function(t,e){return t[e]}(k.lFrame.contextLView,20+t)}function A(t,e=R.Default){const n=v();return null===n?D(t,e):bC(Ue(),n,x(t),e)}function Gh(){throw new Error("invalid")}function Dr(t,e,n){const r=v();return mt(r,Ds(),e)&&function(t,e,n,r,i,s,o,a){const l=an(e,n);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(lw(t,n,u,r,i),uc(e)&&function(t,e){const n=Gt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Re(s)?s.setProperty(l,r,i):Nf(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}(ne(),Me(),r,t,e,r[$],n,!1),Dr}function Kh(t,e,n,r,i){const o=i?"class":"style";lw(t,n,e.inputs[o],o,r)}function ie(t,e,n,r){const i=v(),s=ne(),o=20+t,a=i[$],l=i[o]=oh(a,e,k.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Bs(e,t,2,i,$r(a,s));return Sh(e,n,c,$r(a,o)),null!==c.attrs&&$c(c,c.attrs,!1),null!==c.mergedAttrs&&$c(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Kn(c,!0);const u=c.mergedAttrs;null!==u&&Cc(a,l,u);const d=c.classes;null!==d&&fh(a,l,d);const f=c.styles;null!==f&&IE(a,l,f),64!=(64&c.flags)&&Fc(s,i,l,c),0===k.lFrame.elementDepthCount&&gt(l,i),k.lFrame.elementDepthCount++,dc(c)&&(Ih(s,i,c),function(t,e,n){if(_f(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&Th(i,c)}function se(){let t=Ue();If()?k.lFrame.isParent=!1:(t=t.parent,Kn(t,!1));const e=t;k.lFrame.elementDepthCount--;const n=ne();n.firstCreatePass&&(_c(n,t),_f(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Kh(n,e,v(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Kh(n,e,v(),e.stylesWithoutHost,!1)}function Qh(t,e,n,r){ie(t,e,n,r),se()}function Ma(){return v()}function Kc(t){return!!t&&"function"==typeof t.then}const Yh=function(t){return!!t&&"function"==typeof t.subscribe};function kt(t,e,n,r){const i=v(),s=ne(),o=Ue();return function(t,e,n,r,i,s,o,a){const l=dc(r),u=t.firstCreatePass&&sw(t),d=e[8],f=iw(e);let h=!0;if(3&r.type||a){const g=an(r,e),y=a?a(g):g,_=f.length,E=a?I=>a(Le(I[r.index])):r.index;if(Re(n)){let I=null;if(!a&&l&&(I=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=s,I.__ngLastListenerFn__=s,h=!1;else{s=Jh(r,e,d,s,!1);const H=n.listen(y,i,s);f.push(s,H),u&&u.push(i,E,_,_+1)}}else s=Jh(r,e,d,s,!0),y.addEventListener(i,s,o),f.push(s),u&&u.push(i,E,_,o)}else s=Jh(r,e,d,s,!1);const p=r.outputs;let m;if(h&&null!==p&&(m=p[i])){const g=m.length;if(g)for(let y=0;y<g;y+=2){const Ge=e[m[y]][m[y+1]].subscribe(s),yn=f.length;f.push(s,Ge),u&&u.push(i,r.index,yn,-(yn+1))}}}(s,i,i[$],o,t,e,!!n,r),kt}function ib(t,e,n,r){try{return!1!==n(r)}catch(i){return aw(t,i),!1}}function Jh(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Gt(t.index,e):e;0==(32&e[2])&&Rh(a);let l=ib(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=ib(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Ft(t=1){return function(t){return(k.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,k.lFrame.contextLView))[8]}(t)}function We(t,e=""){const n=v(),r=ne(),i=t+20,s=r.firstCreatePass?Bs(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Re(t)?t.createText(e):t.createTextNode(e)}(n[$],e);Fc(r,n,o,s),Kn(s,!1)}function ep(t){return Yc("",t,""),ep}function Yc(t,e,n){const r=v(),i=function(t,e,n,r){return mt(t,Ds(),n)?e+V(n)+r:B}(r,t,e,n);return i!==B&&wr(r,Dt(),i),Yc}const Mi=void 0;var Hk=["en",[["a","p"],["AM","PM"],Mi],[["AM","PM"],Mi,Mi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mi,"{1} 'at' {0}",Mi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let no={};function Qb(t){return t in no||(no[t]=le.ng&&le.ng.common&&le.ng.common.locales&&le.ng.common.locales[t]),no[t]}var b=(()=>((b=b||{})[b.LocaleId=0]="LocaleId",b[b.DayPeriodsFormat=1]="DayPeriodsFormat",b[b.DayPeriodsStandalone=2]="DayPeriodsStandalone",b[b.DaysFormat=3]="DaysFormat",b[b.DaysStandalone=4]="DaysStandalone",b[b.MonthsFormat=5]="MonthsFormat",b[b.MonthsStandalone=6]="MonthsStandalone",b[b.Eras=7]="Eras",b[b.FirstDayOfWeek=8]="FirstDayOfWeek",b[b.WeekendRange=9]="WeekendRange",b[b.DateFormat=10]="DateFormat",b[b.TimeFormat=11]="TimeFormat",b[b.DateTimeFormat=12]="DateTimeFormat",b[b.NumberSymbols=13]="NumberSymbols",b[b.NumberFormats=14]="NumberFormats",b[b.CurrencyCode=15]="CurrencyCode",b[b.CurrencySymbol=16]="CurrencySymbol",b[b.CurrencyName=17]="CurrencyName",b[b.Currencies=18]="Currencies",b[b.Directionality=19]="Directionality",b[b.PluralCase=20]="PluralCase",b[b.ExtraData=21]="ExtraData",b))();const Jc="en-US";let Yb=Jc;class ED{}const bD="ngComponent";class WF{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${z(t)}. Did you add it to @NgModule.entryComponents?`);return e[bD]=t,e}(e)}}let Ni=(()=>{class t{}return t.NULL=new WF,t})();function nu(...t){}function io(t,e){return new Zt(an(t,e))}const GF=function(){return io(Ue(),v())};let Zt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=GF,t})();class ru{}let lp=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class La{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const cp=new La("13.0.2"),so={};function su(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Le(s)),En(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&su(l[1],l,c,r)}const o=n.type;if(8&o)su(t,e,n.child,r);else if(32&o){const a=nh(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=wE(e,n);if(Array.isArray(a))r.push(...a);else{const l=Ca(e[16]);su(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Va{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return su(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(En(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(ah(e,r),Ii(n,r))}this._attachedToViewContainer=!1}hE(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,r){const i=iw(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&sw(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Rh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Nh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){pc(!0);try{Nh(t,e,n)}finally{pc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Ea(this._lView[1],e=this._lView,e[$],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class ZF extends Va{constructor(e){super(e),this._view=e}detectChanges(){rw(this._view)}checkNoChanges(){!function(t){pc(!0);try{rw(t)}finally{pc(!1)}}(this._view)}get context(){return null}}class ID extends Ni{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ht(e);return new up(n,this.ngModule)}}function TD(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const eL=new Y("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>sE});class up extends ED{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=e.selectors.map(s1).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return TD(this.componentDef.inputs)}get outputs(){return TD(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,so,i);return s!==so||r===so?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(ru,nC),a=s.get(lp,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?function(t,e,n){if(Re(t))return t.selectRootElement(e,n===zt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):oh(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,f=function(t,e){return{components:[],scheduler:t||sE,clean:q1,playerHandler:e||null,flags:0}}(),h=Uc(0,null,null,1,0,null,null,null,null,null),p=wa(null,h,f,d,null,null,o,l,a,s);let m,g;gc(p);try{const y=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const l=Bs(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&($c(l,c,!0),null!==t&&(Cc(i,t,c),null!==l.classes&&fh(i,t,l.classes),null!==l.styles&&IE(i,t,l.styles)));const u=r.createRenderer(t,e),d=wa(n,zE(e),null,e.onPush?64:16,n[20],l,r,u,s||null,null);return o.firstCreatePass&&(Dc(sa(l,n),o,e.type),XE(o,l),ew(l,n.length,1)),Hc(n,d),n[20]=d}(u,this.componentDef,p,o,l);if(u)if(r)Cc(l,u,["ng-version",cp.full]);else{const{attrs:_,classes:E}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Dn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);_&&Cc(l,u,_),E&&E.length>0&&fh(l,u,E.join(" "))}if(g=wf(h,20),void 0!==n){const _=g.projection=[];for(let E=0;E<this.ngContentSelectors.length;E++){const I=n[E];_.push(null!=I?Array.from(I):null)}}m=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Ue();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),tw(t,r,e,js(t,e,1,null),n));const i=oa(e,t,r.directiveStart,r);gt(i,e);const s=an(r,e);return s&&gt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(l=>l(o,e)),e.contentQueries){const l=Ue();e.contentQueries(1,o,l.directiveStart)}const a=Ue();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Wr(a.index),JE(n[1],a,0,a.directiveStart,a.directiveEnd,e),ZE(e,o)),o}(y,this.componentDef,p,f,[yO]),ba(h,p,null)}finally{mc()}return new rL(this.componentType,m,io(g,p),p,g)}}class rL extends class{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new ZF(i),this.componentType=e}get injector(){return new Ss(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class ir{}class SD{}const oo=new Map;class xD extends ir{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ID(this);const r=rn(e);this._bootstrapComponents=Zn(r.bootstrap),this._r3Injector=dw(e,n,[{provide:ir,useValue:this},{provide:Ni,useValue:this.componentFactoryResolver}],z(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=ce.THROW_IF_NOT_FOUND,r=R.Default){return e===ce||e===ir||e===Da?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class fp extends SD{constructor(e){super(),this.moduleType=e,null!==rn(e)&&function(t){const e=new Set;!function n(r){const i=rn(r,!0),s=i.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${z(e)} vs ${z(e.name)}`)}(s,oo.get(s),r),oo.set(s,r));const o=Zn(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new xD(this.moduleType,e)}}function hp(t){return e=>{setTimeout(t,void 0,e)}}const _t=class extends $n{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var l,c,u;let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const d=e;i=null==(l=d.next)?void 0:l.bind(d),s=null==(c=d.error)?void 0:c.bind(d),o=null==(u=d.complete)?void 0:u.bind(d)}this.__isAsync&&(s=hp(s),i&&(i=hp(i)),o&&(o=hp(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Fe&&e.add(a),a}};Symbol;const TL=function(){return au(Ue(),v())};let Ir=(()=>{class t{}return t.__NG_ELEMENT_ID__=TL,t})();const SL=Ir,AL=class extends SL{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=wa(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),ba(n,r,e),new Va(r)}};function au(t,e){return 4&t.type?new AL(e,t,io(t,e)):null}const ML=function(){return function(t,e){let n;const r=e[t.index];if(En(r))n=r;else{let i;if(8&t.type)i=Le(r);else{const s=e[$];i=s.createComment("");const o=an(t,e);xi(s,kc(s,o),i,function(t,e){return Re(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=nw(r,e,i,t),Hc(e,n)}return new kD(n,t,e)}(Ue(),v())};let xn=(()=>{class t{}return t.__NG_ELEMENT_ID__=ML,t})();const PL=xn,kD=class extends PL{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return io(this._hostTNode,this._hostLView)}get injector(){return new Ss(this._hostTNode,this._hostLView)}get parentInjector(){const e=bc(this._hostTNode,this._hostLView);if(yC(e)){const n=Ts(e,this._hostLView),r=Is(e);return new Ss(n[1].data[r+8],n)}return new Ss(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=FD(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const l=o?e:new up(ht(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule&&c){const d=c.get(ir,null);d&&(s=d)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,n){const r=e._lView,i=r[1];if(En(r[3])){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],f=new kD(d,d[6],d[3]);f.detach(f.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],Tc(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=uh(s,o),l=r[$],c=kc(l,o[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Ea(t,r,n,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),Tc(pp(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=FD(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=ah(this._lContainer,n);r&&(Ii(pp(this._lContainer),n),hE(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=ah(this._lContainer,n);return r&&null!=Ii(pp(this._lContainer),n)?new Va(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function FD(t){return t[8]}function pp(t){return t[8]||(t[8]=[])}function bp(t,e){return au(t,e)}const Ha=new Y("Application Initializer");let lo=(()=>{class t{constructor(n){this.appInits=n,this.resolve=nu,this.reject=nu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Kc(s))n.push(s);else if(Yh(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(D(Ha,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const $a=new Y("AppId"),g2={provide:$a,useFactory:function(){return`${xp()}${xp()}${xp()}`},deps:[]};function xp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const oI=new Y("Platform Initializer"),Wa=new Y("Platform ID"),aI=new Y("appBootstrapListener");let uu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Jr=new Y("LocaleId"),lI=new Y("DefaultCurrencyCode");class _2{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const Rp=function(t){return new fp(t)},y2=Rp,v2=function(t){return Promise.resolve(Rp(t))},uI=function(t){const e=Rp(t),r=Zn(rn(t).declarations).reduce((i,s)=>{const o=ht(s);return o&&i.push(new up(o)),i},[]);return new _2(e,r)},C2=uI,E2=function(t){return Promise.resolve(uI(t))};let du=(()=>{class t{constructor(){this.compileModuleSync=y2,this.compileModuleAsync=v2,this.compileModuleAndAllComponentsSync=C2,this.compileModuleAndAllComponentsAsync=E2}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const D2=(()=>Promise.resolve(0))();function Mp(t){"undefined"==typeof Zone?D2.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Pe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _t(!1),this.onMicrotaskEmpty=new _t(!1),this.onStable=new _t(!1),this.onError=new _t(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=le.requestAnimationFrame,e=le.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(le,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Pp(t),t.isCheckStableRunning=!0,Np(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Pp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return dI(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),fI(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return dI(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),fI(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Pp(t),Np(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,T2,nu,nu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const T2={};function Np(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Pp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function dI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function fI(t){t._nesting--,Np(t)}class x2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _t,this.onMicrotaskEmpty=new _t,this.onStable=new _t,this.onError=new _t}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let Op=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pe.assertNotInAngularZone(),Mp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mp(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(D(Pe))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),hI=(()=>{class t{constructor(){this._applications=new Map,kp.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return kp.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class R2{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let kp=new R2,pI=!0,gI=!1;let Rn;const _I=new Y("AllowMultipleToken");class Fp{constructor(e,n){this.name=e,this.token=n}}function yI(t,e,n=[]){const r=`Platform: ${e}`,i=new Y(r);return(s=[])=>{let o=vI();if(!o||o.injector.get(_I,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:Ia,useValue:"platform"});!function(t){if(Rn&&!Rn.destroyed&&!Rn.injector.get(_I,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Rn=t.get(CI);const e=t.get(oI,null);e&&e.forEach(n=>n())}(ce.create({providers:a,name:r}))}return function(t){const e=vI();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function vI(){return Rn&&!Rn.destroyed?Rn:null}let CI=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new x2:("zone.js"===t?void 0:t)||new Pe({enableLongStackTrace:(gI=!0,pI),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Pe,useValue:a}];return a.run(()=>{const c=ce.create({providers:l,parent:this.injector,name:n.moduleType.name}),u=n.create(c),d=u.injector.get(Ai,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const f=a.onError.subscribe({next:h=>{d.handleError(h)}});u.onDestroy(()=>{Lp(this._modules,u),f.unsubscribe()})}),function(t,e,n){try{const r=n();return Kc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const f=u.injector.get(lo);return f.runInitializers(),f.donePromise.then(()=>(function(t){Wt(t,"Expected localeId to be defined"),"string"==typeof t&&(Yb=t.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Jr,Jc)||Jc),this._moduleDoBootstrap(u),u))})})}bootstrapModule(n,r=[]){const i=EI({},r);return function(t,e,n){const r=new fp(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(co);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${z(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(D(ce))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function EI(t,e){return Array.isArray(e)?e.reduce(EI,t):P(P({},t),e)}let co=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new be(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new be(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),Mp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=function(...t){const e=Jo(t),n=function(t,e){return"number"==typeof sf(t)?t.pop():1/0}(t),r=t;return r.length?1===r.length?Wn(r[0]):Yo(n)(Ze(r,e)):zn}(a,l.pipe(function(t={}){const{connector:e=(()=>new $n),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,l=null,c=0,u=!1,d=!1;const f=()=>{null==a||a.unsubscribe(),a=null},h=()=>{f(),o=l=null,u=d=!1},p=()=>{const m=o;h(),null==m||m.unsubscribe()};return Qe((m,g)=>{c++,!d&&!u&&f();const y=l=null!=l?l:e();g.add(()=>{c--,0===c&&!d&&!u&&(a=of(p,i))}),y.subscribe(g),o||(o=new ee({next:_=>y.next(_),error:_=>{d=!0,f(),a=of(h,n,_),y.error(_)},complete:()=>{u=!0,f(),a=of(h,r),y.complete()}}),Ze(m).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof ED?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(ir),a=i.create(ce.NULL,[],r||i.selector,s),l=a.location.nativeElement,c=a.injector.get(Op,null),u=c&&a.injector.get(hI);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Lp(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Lp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(aI,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(D(Pe),D(ce),D(Ai),D(Ni),D(lo))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Lp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const z2=function(t){return function(t,e,n){if(uc(t)&&!n){const r=Gt(t.index,e);return new Va(r,r)}return 47&t.type?new Va(e[16],e):null}(Ue(),v(),16==(16&t))};let Bp=(()=>{class t{}return t.__NG_ELEMENT_ID__=z2,t})();class AI{constructor(){}supports(e){return Aa(e)}create(e){return new iV(e)}}const rV=(t,e)=>e;class iV{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rV}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<RI(r,i,s)?n:r,a=RI(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<c&&(s[f]=h+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Aa(e))throw new Error(`Error trying to diff '${z(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ws()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new sV(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new xI),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xI),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class sV{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oV{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class xI{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new oV,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RI(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class MI{constructor(){}supports(e){return e instanceof Map||Hh(e)}create(){return new aV}}class aV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Hh(e)))throw new Error(`Error trying to diff '${z(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new lV(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class lV{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function NI(){return new za([new AI])}let za=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||NI()),deps:[[t,new Gr,new et]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:NI}),t})();function PI(){return new uo([new MI])}let uo=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||PI()),deps:[[t,new Gr,new et]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:PI}),t})();const uV=[new MI],fV=new za([new AI]),hV=new uo(uV),pV=yI(null,"core",[{provide:Wa,useValue:"unknown"},{provide:CI,deps:[ce]},{provide:hI,deps:[]},{provide:uu,deps:[]}]),vV=[{provide:co,useClass:co,deps:[Pe,ce,Ai,Ni,lo]},{provide:eL,deps:[Pe],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:lo,useClass:lo,deps:[[new et,Ha]]},{provide:du,useClass:du,deps:[]},g2,{provide:za,useFactory:function(){return fV},deps:[]},{provide:uo,useFactory:function(){return hV},deps:[]},{provide:Jr,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||Jc},deps:[[new Os(Jr),new et,new Gr]]},{provide:lI,useValue:"USD"}];let EV=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(D(co))},t.\u0275mod=qn({type:t}),t.\u0275inj=tn({providers:vV}),t})(),Iu=null;function ei(){return Iu}const rt=new Y("DocumentToken");let Li=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=O({token:t,factory:function(){return D(y0)},providedIn:"platform"}),t})();const gj=new Y("Location Initialized");let y0=(()=>{class t extends Li{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ei().getBaseHref(this._doc)}onPopState(n){const r=ei().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ei().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){v0()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){v0()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(D(rt))},t.\u0275prov=O({token:t,factory:function(){return new y0(D(rt))},providedIn:"platform"}),t})();function v0(){return!!window.history.pushState}function fg(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function C0(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Sr(t){return t&&"?"!==t[0]?"?"+t:t}let _o=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=O({token:t,factory:function(){return function(t){const e=D(rt).location;return new E0(D(Li),e&&e.origin||"")}()},providedIn:"root"}),t})();const hg=new Y("appBaseHref");let E0=(()=>{class t extends _o{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return fg(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Sr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Sr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Sr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(D(Li),D(hg,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),yj=(()=>{class t extends _o{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=fg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Sr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Sr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(D(Li),D(hg,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),pg=(()=>{class t{constructor(n,r){this._subject=new _t,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=C0(w0(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Sr(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,w0(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Sr(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Sr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformStrategy).historyGo)||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Sr,t.joinWithSlash=fg,t.stripTrailingSlash=C0,t.\u0275fac=function(n){return new(n||t)(D(_o),D(Li))},t.\u0275prov=O({token:t,factory:function(){return new pg(D(_o),D(Li))},providedIn:"root"}),t})();function w0(t){return t.replace(/\/index.html$/,"")}var Ve=(()=>((Ve=Ve||{})[Ve.Zero=0]="Zero",Ve[Ve.One=1]="One",Ve[Ve.Two=2]="Two",Ve[Ve.Few=3]="Few",Ve[Ve.Many=4]="Many",Ve[Ve.Other=5]="Other",Ve))();const Sj=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Qb(e);if(n)return n;const r=e.split("-")[0];if(n=Qb(r),n)return n;if("en"===r)return Hk;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[b.PluralCase]};class ku{}let nU=(()=>{class t extends ku{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(Sj(r||this.locale)(n)){case Ve.Zero:return"zero";case Ve.One:return"one";case Ve.Two:return"two";case Ve.Few:return"few";case Ve.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(D(Jr))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function M0(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class sU{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let N0=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=[];n.forEachOperation((i,s,o)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new sU(null,this._ngForOf,-1,-1),null===o?void 0:o),l=new P0(i,a);r.push(l)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const l=new P0(i,a);r.push(l)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const o=this._viewContainer.get(i);o.context.index=i,o.context.count=s,o.context.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(n,r){n.context.$implicit=r.item}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(A(xn),A(Ir),A(za))},t.\u0275dir=ft({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class P0{constructor(e,n){this.record=e,this.view=n}}let O0=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new aU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){k0("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){k0("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(A(xn),A(Ir))},t.\u0275dir=ft({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class aU{constructor(){this.$implicit=null,this.ngIf=null}}function k0(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${z(e)}'.`)}let OU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qn({type:t}),t.\u0275inj=tn({providers:[{provide:ku,useClass:nU}]}),t})();let VU=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>new BU(D(rt),window)}),t})();class BU{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=B0(this.window.history)||B0(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function B0(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class j0{}class Sg extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Sg,Iu||(Iu=t)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(sl=sl||document.querySelector("base"),sl?sl.getAttribute("href"):null);return null==n?null:function(t){Fu=Fu||document.createElement("a"),Fu.setAttribute("href",t);const e=Fu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){sl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return M0(document.cookie,e)}}let Fu,sl=null;const U0=new Y("TRANSITION_ID"),zU=[{provide:Ha,useFactory:function(t,e,n){return()=>{n.get(lo).donePromise.then(()=>{const r=ei(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[U0,rt,ce],multi:!0}];class Ag{static init(){var t;t=new Ag,kp=t}addToWindow(e){le.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},le.getAllAngularTestabilities=()=>e.getAllTestabilities(),le.getAllAngularRootElements=()=>e.getAllRootElements(),le.frameworkStabilizers||(le.frameworkStabilizers=[]),le.frameworkStabilizers.push(r=>{const i=le.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?ei().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let qU=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const ol=new Y("EventManagerPlugins");let Vu=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(D(ol),D(Pe))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class xg{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=ei().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let $0=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),al=(()=>{class t extends $0{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(W0),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(W0))}}return t.\u0275fac=function(n){return new(n||t)(D(rt))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function W0(t){ei().remove(t)}const Rg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Mg=/%COMP%/g;function Bu(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Bu(t,i,n):(i=i.replace(Mg,t),n.push(i))}return n}function G0(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ng=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Pg(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case zt.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new aH(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case zt.ShadowDom:return new lH(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Bu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(D(Vu),D(al),D($a))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class Pg{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Rg[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Rg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Rg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Yt.DashCase|Yt.Important)?e.style.setProperty(n,r,i&Yt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Yt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,G0(r)):this.eventManager.addEventListener(e,n,G0(r))}}class aH extends Pg{constructor(e,n,r,i){super(e),this.component=r;const s=Bu(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(Mg,i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Mg,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class lH extends Pg{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Bu(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let cH=(()=>{class t extends xg{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(D(rt))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Y0=["alt","control","meta","shift"],mH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_H={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yH=(()=>{class t extends xg{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ei().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(Y0.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&J0.hasOwnProperty(e)&&(e=J0[e]))}return mH[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Y0.forEach(s=>{s!=i&&_H[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(D(rt))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const DH=[{provide:Wa,useValue:"browser"},{provide:oI,useValue:function(){Sg.makeCurrent(),Ag.init()},multi:!0},{provide:rt,useFactory:function(){return t=document,Cf=t,document;var t},deps:[]}],TH=yI(pV,"browser",DH),SH=[[],{provide:Ia,useValue:"root"},{provide:Ai,useFactory:function(){return new Ai},deps:[]},{provide:ol,useClass:cH,multi:!0,deps:[rt,Pe,Wa]},{provide:ol,useClass:yH,multi:!0,deps:[rt]},[],{provide:Ng,useClass:Ng,deps:[Vu,al,$a]},{provide:ru,useExisting:Ng},{provide:$0,useExisting:al},{provide:al,useClass:al,deps:[rt]},{provide:Op,useClass:Op,deps:[Pe]},{provide:Vu,useClass:Vu,deps:[ol,Pe]},{provide:j0,useClass:qU,deps:[]},[]];let AH=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:$a,useValue:n.appId},{provide:U0,useExisting:$a},zU]}}}return t.\u0275fac=function(n){return new(n||t)(D(t,12))},t.\u0275mod=qn({type:t}),t.\u0275inj=tn({providers:SH,imports:[OU,EV]}),t})();function U(...t){return Ze(t,Jo(t))}function yo(t,e){return ge(e)?Je(t,e,1):Je(t,1)}function Vi(t,e){return Qe((n,r)=>{let i=0;n.subscribe(new Ye(r,s=>t.call(e,s,i++)&&r.next(s)))})}"undefined"!=typeof window&&window;class X0{}class eT{}class xr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof xr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new xr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof xr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class FH{encodeKey(e){return tT(e)}encodeValue(e){return tT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const VH=/%(\d[a-f0-9])/gi,BH={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function tT(t){return encodeURIComponent(t).replace(VH,(e,n)=>{var r;return null!=(r=BH[n])?r:e})}function nT(t){return`${t}`}class ni{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new FH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ni({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(nT(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(nT(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class jH{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function rT(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function iT(t){return"undefined"!=typeof Blob&&t instanceof Blob}function sT(t){return"undefined"!=typeof FormData&&t instanceof FormData}class ll{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new xr),this.context||(this.context=new jH),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new ni,this.urlWithParams=n}serializeBody(){return null===this.body?null:rT(this.body)||iT(this.body)||sT(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof ni?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sT(this.body)?null:iT(this.body)?this.body.type||null:rT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ni?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var d;const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=null!=(d=e.context)?d:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),c)),new ll(n,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var je=(()=>((je=je||{})[je.Sent=0]="Sent",je[je.UploadProgress=1]="UploadProgress",je[je.ResponseHeader=2]="ResponseHeader",je[je.DownloadProgress=3]="DownloadProgress",je[je.Response=4]="Response",je[je.User=5]="User",je))();class Vg{constructor(e,n=200,r="OK"){this.headers=e.headers||new xr,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Bg extends Vg{constructor(e={}){super(e),this.type=je.ResponseHeader}clone(e={}){return new Bg({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ju extends Vg{constructor(e={}){super(e),this.type=je.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ju({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class oT extends Vg{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function jg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let $H=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof ll)s=n;else{let l,c;l=i.headers instanceof xr?i.headers:new xr(i.headers),i.params&&(c=i.params instanceof ni?i.params:new ni({fromObject:i.params})),s=new ll(n,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=U(s).pipe(yo(l=>this.handler.handle(l)));if(n instanceof ll||"events"===i.observe)return o;const a=o.pipe(Vi(l=>l instanceof ju));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(fe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(fe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(fe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(fe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new ni).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,jg(i,r))}post(n,r,i={}){return this.request("POST",n,jg(i,r))}put(n,r,i={}){return this.request("PUT",n,jg(i,r))}}return t.\u0275fac=function(n){return new(n||t)(D(X0))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class aT{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const lT=new Y("HTTP_INTERCEPTORS");let WH=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const zH=/^\)\]\}',?\n/;let cT=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new be(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((h,p)=>i.setRequestHeader(h,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const h=n.detectContentTypeHeader();null!==h&&i.setRequestHeader("Content-Type",h)}if(n.responseType){const h=n.responseType.toLowerCase();i.responseType="json"!==h?h:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const h=1223===i.status?204:i.status,p=i.statusText||"OK",m=new xr(i.getAllResponseHeaders()),g=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new Bg({headers:m,status:h,statusText:p,url:g}),o},l=()=>{let{headers:h,status:p,statusText:m,url:g}=a(),y=null;204!==p&&(y=void 0===i.response?i.responseText:i.response),0===p&&(p=y?200:0);let _=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof y){const E=y;y=y.replace(zH,"");try{y=""!==y?JSON.parse(y):null}catch(I){y=E,_&&(_=!1,y={error:I,text:y})}}_?(r.next(new ju({body:y,headers:h,status:p,statusText:m,url:g||void 0})),r.complete()):r.error(new oT({error:y,headers:h,status:p,statusText:m,url:g||void 0}))},c=h=>{const{url:p}=a(),m=new oT({error:h,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let u=!1;const d=h=>{u||(r.next(a()),u=!0);let p={type:je.DownloadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),"text"===n.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},f=h=>{let p={type:je.UploadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),r.next(p)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",f)),i.send(s),r.next({type:je.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(D(j0))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Ug=new Y("XSRF_COOKIE_NAME"),Hg=new Y("XSRF_HEADER_NAME");class uT{}let GH=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=M0(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(D(rt),D(Wa),D(Ug))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),$g=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const s=this.tokenService.getToken();return null!==s&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,s)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(D(uT),D(Hg))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),KH=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(lT,[]);this.chain=r.reduceRight((i,s)=>new aT(i,s),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(D(eT),D(ce))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),QH=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:$g,useClass:WH}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:Ug,useValue:n.cookieName}:[],n.headerName?{provide:Hg,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qn({type:t}),t.\u0275inj=tn({providers:[$g,{provide:lT,useExisting:$g,multi:!0},{provide:uT,useClass:GH},{provide:Ug,useValue:"XSRF-TOKEN"},{provide:Hg,useValue:"X-XSRF-TOKEN"}]}),t})(),YH=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qn({type:t}),t.\u0275inj=tn({providers:[$H,{provide:X0,useClass:KH},cT,{provide:eT,useExisting:cT}],imports:[[QH.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const dT_firebase={apiKey:"AIzaSyDnIeTJeuUlb6FD6skjVi4WRces_j2GR2s",authDomain:"todo-list-angular-4d7c7.firebaseapp.com",databaseURL:"https://todo-list-angular-4d7c7-default-rtdb.firebaseio.com",projectId:"todo-list-angular-4d7c7",storageBucket:"todo-list-angular-4d7c7.appspot.com",messagingSenderId:"710866963345",appId:"1:710866963345:web:20a0174cb90c8a610f2830"};class Ln extends $n{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:JH}=Array,{getPrototypeOf:ZH,prototype:XH,keys:e$}=Object;const{isArray:r$}=Array;function a$(...t){const e=Jo(t),n=function(t){return ge(sf(t))?t.pop():void 0}(t),{args:r,keys:i}=function(t){if(1===t.length){const e=t[0];if(JH(e))return{args:e,keys:null};if(function(t){return t&&"object"==typeof t&&ZH(t)===XH}(e)){const n=e$(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Ze([],e);const s=new be(function(t,e,n=gi){return r=>{fT(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)fT(e,()=>{const c=Ze(t[l],e);let u=!1;c.subscribe(new Ye(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):gi));return n?s.pipe(function(t){return fe(e=>function(t,e){return r$(e)?t(...e):t(e)}(t,e))}(n)):s}function fT(t,e,n){t?gr(n,t,e):e()}const Uu=fs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Wg(...t){return Yo(1)(Ze(t,Jo(t)))}function hT(t){return new be(e=>{Wn(t()).subscribe(e)})}function pT(){return Qe((t,e)=>{let n=null;t._refCount++;const r=new Ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class u$ extends be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Dv(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;const n=this.getSubject();e.add(this.source.subscribe(new Ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return pT()(this)}}function Bi(t,e){return Qe((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new Ye(r,l=>{null==i||i.unsubscribe();let c=0;const u=s++;Wn(t(l,u)).subscribe(i=new Ye(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function f$(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(new Ye(o,u=>{const d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function gT(t,e){return Qe(f$(t,e,arguments.length>=2,!0))}function ri(t){return Qe((e,n)=>{let s,r=null,i=!1;r=e.subscribe(new Ye(n,void 0,void 0,o=>{s=Wn(t(o,ri(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function zg(t){return t<=0?()=>zn:Qe((e,n)=>{let r=[];e.subscribe(new Ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function mT(t=h$){return Qe((e,n)=>{let r=!1;e.subscribe(new Ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function h$(){return new Uu}function _T(t){return Qe((e,n)=>{let r=!1;e.subscribe(new Ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function vo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Vi((i,s)=>t(i,s,r)):gi,rc(1),n?_T(e):mT(()=>new Uu))}function Vt(t,e,n){const r=ge(t)||e||n?{next:t,error:e,complete:n}:t;return r?Qe((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new Ye(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):gi}class Rr{constructor(e,n){this.id=e,this.url=n}}class qg extends Rr{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cl extends Rr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yT extends Rr{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class m$ extends Rr{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _$ extends Rr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y$ extends Rr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v$ extends Rr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class C$ extends Rr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E$ extends Rr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vT{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class CT{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class w${constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b${constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D${constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I${constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ET{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const J="primary";class T${constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Co(t){return new T$(t)}const wT="ngNavigationCancelingError";function Gg(t){const e=Error("NavigationCancelingError: "+t);return e[wT]=!0,e}function A$(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function sr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!bT(t[i],e[i]))return!1;return!0}function bT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function DT(t){return Array.prototype.concat.apply([],t)}function IT(t){return t.length>0?t[t.length-1]:null}function at(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function or(t){return Yh(t)?t:Kc(t)?Ze(Promise.resolve(t)):U(t)}const M$={exact:function AT(t,e,n){if(!Ui(t.segments,e.segments)||!Hu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!AT(t.children[r],e.children[r],n))return!1;return!0},subset:xT},TT={exact:function(t,e){return sr(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bT(t[n],e[n]))},ignored:()=>!0};function ST(t,e,n){return M$[n.paths](t.root,e.root,n.matrixParams)&&TT[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function xT(t,e,n){return RT(t,e,e.segments,n)}function RT(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ui(i,n)||e.hasChildren()||!Hu(i,n,r))}if(t.segments.length===n.length){if(!Ui(t.segments,n)||!Hu(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!xT(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ui(t.segments,i)&&Hu(t.segments,i,r)&&t.children[J])&&RT(t.children[J],e,s,r)}}function Hu(t,e,n){return e.every((r,i)=>TT[n](t[i].parameters,r.parameters))}class ji{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Co(this.queryParams)),this._queryParamMap}toString(){return F$.serialize(this)}}class te{constructor(e,n){this.segments=e,this.children=n,this.parent=null,at(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $u(this)}}class ul{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Co(this.parameters)),this._parameterMap}toString(){return kT(this)}}function Ui(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class MT{}class NT{parse(e){const n=new z$(e);return new ji(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${dl(e.root,!0)}`,r=function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Wu(n)}=${Wu(i)}`).join("&"):`${Wu(n)}=${Wu(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);var t;return`${n}${r}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const F$=new NT;function $u(t){return t.segments.map(e=>kT(e)).join("/")}function dl(t,e){if(!t.hasChildren())return $u(t);if(e){const n=t.children[J]?dl(t.children[J],!1):"",r=[];return at(t.children,(i,s)=>{s!==J&&r.push(`${s}:${dl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return at(t.children,(r,i)=>{i===J&&(n=n.concat(e(r,i)))}),at(t.children,(r,i)=>{i!==J&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===J?[dl(t.children[J],!1)]:[`${i}:${dl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[J]?`${$u(t)}/${n[0]}`:`${$u(t)}/(${n.join("//")})`}}function PT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wu(t){return PT(t).replace(/%3B/gi,";")}function Kg(t){return PT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zu(t){return decodeURIComponent(t)}function OT(t){return zu(t.replace(/\+/g,"%20"))}function kT(t){return`${Kg(t.path)}${function(t){return Object.keys(t).map(e=>`;${Kg(e)}=${Kg(t[e])}`).join("")}(t.parameters)}`}const j$=/^[^\/()?;=#]+/;function qu(t){const e=t.match(j$);return e?e[0]:""}const U$=/^[^=?&#]+/,$$=/^[^&#]+/;class z${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new te([],{}):new te([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[J]=new te(e,n)),r}parseSegment(){const e=qu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ul(zu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=qu(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=qu(this.remaining);i&&(r=i,this.capture(r))}e[zu(n)]=zu(r)}parseQueryParam(e){const n=function(t){const e=t.match(U$);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function(t){const e=t.match($$);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=OT(n),s=OT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=J);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[J]:new te([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class FT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Qg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Qg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Yg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yg(e,this._root).map(n=>n.value)}}function Qg(t,e){if(t===e.value)return e;for(const n of e.children){const r=Qg(t,n);if(r)return r}return null}function Yg(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Yg(t,n);if(r.length)return r.unshift(e),r}return[]}class Mr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Eo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class LT extends FT{constructor(e,n){super(e),this.snapshot=n,Jg(this,e)}toString(){return this.snapshot.toString()}}function VT(t,e){const n=function(t,e){const o=new Gu([],{},{},"",{},J,e,null,t.root,-1,{});return new jT("",new Mr(o,[]))}(t,e),r=new Ln([new ul("",{})]),i=new Ln({}),s=new Ln({}),o=new Ln({}),a=new Ln(""),l=new Hi(r,i,o,a,s,J,e,n.root);return l.snapshot=n.root,new LT(new Mr(l,[]),n)}class Hi{constructor(e,n,r,i,s,o,a,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(fe(e=>Co(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(fe(e=>Co(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function BT(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:P(P({},e.params),n.params),data:P(P({},e.data),n.data),resolve:P(P({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gu{constructor(e,n,r,i,s,o,a,l,c,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Co(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Co(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jT extends FT{constructor(e,n){super(n),this.url=e,Jg(this,n)}toString(){return UT(this._root)}}function Jg(t,e){e.value._routerState=t,e.children.forEach(n=>Jg(t,n))}function UT(t){const e=t.children.length>0?` { ${t.children.map(UT).join(", ")} } `:"";return`${t.value}${e}`}function Zg(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),sr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!sr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),sr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Xg(t,e){const n=sr(t.params,e.params)&&function(t,e){return Ui(t,e)&&t.every((n,r)=>sr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Xg(t.parent,e.parent))}function fl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return fl(t,r,i);return fl(t,r)})}(t,e,n);return new Mr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>fl(t,a)),o}}const r=function(t){return new Hi(new Ln(t.url),new Ln(t.params),new Ln(t.queryParams),new Ln(t.fragment),new Ln(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>fl(t,s));return new Mr(r,i)}}function Ku(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hl(t){return"object"==typeof t&&null!=t&&t.outlets}function em(t,e,n,r,i){let s={};return r&&at(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new ji(n.root===t?e:HT(n.root,t,e),s,i)}function HT(t,e,n){const r={};return at(t.children,(i,s)=>{r[s]=i===e?n:HT(i,e,n)}),new te(t.segments,r)}class $T{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ku(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(hl);if(i&&i!==IT(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tm{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function WT(t,e,n){if(t||(t=new te([],{})),0===t.segments.length&&t.hasChildren())return Qu(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(hl(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!qT(l,c,o))return s;r+=2}else{if(!qT(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new te(t.segments.slice(0,r.pathIndex),{});return s.children[J]=new te(t.segments.slice(r.pathIndex),t.children),Qu(s,0,i)}return r.match&&0===i.length?new te(t.segments,{}):r.match&&!t.hasChildren()?nm(t,e,n):r.match?Qu(t,0,i):nm(t,e,n)}function Qu(t,e,n){if(0===n.length)return new te(t.segments,{});{const r=function(t){return hl(t[0])?t[0].outlets:{[J]:t}}(n),i={};return at(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=WT(t.children[o],e,s))}),at(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new te(t.segments,i)}}function nm(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(hl(s)){const l=r3(s.outlets);return new te(r,l)}if(0===i&&Ku(n[0])){r.push(new ul(t.segments[e].path,zT(n[0]))),i++;continue}const o=hl(s)?s.outlets[J]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ku(a)?(r.push(new ul(o,zT(a))),i+=2):(r.push(new ul(o,{})),i++)}return new te(r,{})}function r3(t){const e={};return at(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=nm(new te([],{}),0,n))}),e}function zT(t){const e={};return at(t,(n,r)=>e[r]=`${n}`),e}function qT(t,e,n){return t==n.path&&sr(e,n.parameters)}class s3{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Zg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Eo(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),at(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Eo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Eo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Eo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new I$(s.value.snapshot))}),e.children.length&&this.forwardEvent(new b$(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Zg(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Zg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class rm{constructor(e,n){this.routes=e,this.module=n}}function ii(t){return"function"==typeof t}function $i(t){return t instanceof ji}const pl=Symbol("INITIAL_VALUE");function gl(){return Bi(t=>a$(t.map(e=>e.pipe(rc(1),function(...t){const e=Jo(t);return Qe((n,r)=>{(e?Wg(t,n,e):Wg(t,n)).subscribe(r)})}(pl)))).pipe(gT((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==pl?i:(s===pl&&(r=!0),r||!1!==s&&o!==n.length-1&&!$i(s)?i:s),e)},pl),Vi(e=>e!==pl),fe(e=>$i(e)?e:!0===e),rc(1)))}class f3{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ml,this.attachRef=null}}class ml{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new f3,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let im=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new _t,this.deactivateEvents=new _t,this.attachEvents=new _t,this.detachEvents=new _t,this.name=s||J,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new h3(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(A(ml),A(xn),A(Ni),function(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(mC(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Ue(),t)}("name"),A(Bp))},t.\u0275dir=ft({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class h3{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Hi?this.route:e===ml?this.childContexts:this.parent.get(e,n)}}let GT=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ys({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Qh(0,"router-outlet")},directives:[im],encapsulation:2}),t})();function KT(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];p3(r,g3(e,r))}}function p3(t,e){t.children&&KT(t.children,e)}function g3(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function sm(t){const e=t.children&&t.children.map(sm),n=e?Ut(P({},t),{children:e}):P({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=GT),n}function pn(t){return t.outlet||J}function QT(t,e){const n=t.filter(r=>pn(r)===e);return n.push(...t.filter(r=>pn(r)!==e)),n}const YT={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Yu(t,e,n){var a;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?P({},YT):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||A$)(n,t,e);if(!i)return P({},YT);const s={};at(i.posParams,(l,c)=>{s[c]=l.path});const o=i.consumed.length>0?P(P({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!=(a=i.posParams)?a:{}}}function Ju(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>Zu(t,e,r)&&pn(r)!==J)}(t,n,r)){const o=new te(e,function(t,e,n,r){const i={};i[J]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&pn(s)!==J){const o=new te([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[pn(s)]=o}return i}(t,e,r,new te(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>Zu(t,e,r))}(t,n,r)){const o=new te(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Zu(t,n,a)&&!i[pn(a)]){const l=new te([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[pn(a)]=l}return P(P({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new te(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Zu(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function JT(t,e,n,r){return!!(pn(t)===r||r!==J&&Zu(e,n,t))&&("**"===t.path||Yu(e,t,n).matched)}function ZT(t,e,n){return 0===e.length&&!t.children[n]}class _l{constructor(e){this.segmentGroup=e||null}}class XT{constructor(e){this.urlTree=e}}function Xu(t){return new be(e=>e.error(new _l(t)))}function eS(t){return new be(e=>e.error(new XT(t)))}function C3(t){return new be(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class b3{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(ir)}apply(){const e=Ju(this.urlTree.root,[],[],this.config).segmentGroup,n=new te(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,J).pipe(fe(s=>this.createUrlTree(om(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ri(s=>{if(s instanceof XT)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof _l?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,J).pipe(fe(i=>this.createUrlTree(om(i),e.queryParams,e.fragment))).pipe(ri(i=>{throw i instanceof _l?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new te([],{[J]:e}):e;return new ji(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(fe(s=>new te([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ze(i).pipe(yo(s=>{const o=r.children[s],a=QT(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(fe(l=>({segment:l,outlet:s})))}),gT((s,o)=>(s[o.outlet]=o.segment,s),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Vi((i,s)=>t(i,s,r)):gi,zg(1),n?_T(e):mT(()=>new Uu))}())}expandSegment(e,n,r,i,s,o){return Ze(r).pipe(yo(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(ri(c=>{if(c instanceof _l)return U(null);throw c}))),vo(a=>!!a),ri((a,l)=>{if(a instanceof Uu||"EmptyError"===a.name){if(ZT(n,i,s))return U(new te([],{}));throw new _l(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return JT(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Xu(n):Xu(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?eS(s):this.lineralizeSegments(r,s).pipe(Je(o=>{const a=new te(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=Yu(n,i,s);if(!a)return Xu(n);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?eS(d):this.lineralizeSegments(i,d).pipe(Je(f=>this.expandSegment(e,n,r,f.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?U(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(fe(f=>(r._loadedConfig=f,new te(i,{})))):U(new te(i,{}));const{matched:o,consumedSegments:a,lastChild:l}=Yu(n,r,i);if(!o)return Xu(n);const c=i.slice(l);return this.getChildConfig(e,r,i).pipe(Je(d=>{const f=d.module,h=d.routes,{segmentGroup:p,slicedSegments:m}=Ju(n,a,c,h),g=new te(p.segments,p.children);if(0===m.length&&g.hasChildren())return this.expandChildren(f,h,g).pipe(fe(I=>new te(a,I)));if(0===h.length&&0===m.length)return U(new te(a,{}));const y=pn(r)===s;return this.expandSegment(f,g,h,m,y?J:s,!0).pipe(fe(E=>new te(a.concat(E.segments),E.children)))}))}getChildConfig(e,n,r){return n.children?U(new rm(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?U(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(Je(i=>{return i?this.configLoader.load(e.injector,n).pipe(fe(s=>(n._loadedConfig=s,s))):(t=n,new be(e=>e.error(Gg(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):U(new rm([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?U(i.map(o=>{const a=e.get(o);let l;if((t=a)&&ii(t.canLoad))l=a.canLoad(n,r);else{if(!ii(a))throw new Error("Invalid CanLoad guard");l=a(n,r)}var t;return or(l)})).pipe(gl(),Vt(o=>{if(!$i(o))return;const a=Gg(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),fe(o=>!0===o)):U(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return U(r);if(i.numberOfChildren>1||!i.children[J])return C3(e.redirectTo);i=i.children[J]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ji(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return at(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return at(n.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new te(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function om(t){const e={};for(const r of Object.keys(t.children)){const s=om(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(t){if(1===t.numberOfChildren&&t.children[J]){const e=t.children[J];return new te(t.segments.concat(e.segments),e.children)}return t}(new te(t.segments,e))}class tS{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ed{constructor(e,n){this.component=e,this.route=n}}function T3(t,e,n){const r=t._root;return yl(r,e?e._root:null,n,[r.value])}function td(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function yl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Eo(e);return t.children.forEach(o=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ui(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ui(t.url,e.url)||!sr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xg(t,e)||!sr(t.queryParams,e.queryParams);default:return!Xg(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new tS(r)):(s.data=o.data,s._resolvedData=o._resolvedData),yl(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ed(a.outlet.component,o))}else o&&vl(e,a,i),i.canActivateChecks.push(new tS(r)),yl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),at(s,(o,a)=>vl(o,n.getContext(a),i)),i}function vl(t,e,n){const r=Eo(t),i=t.value;at(r,(s,o)=>{vl(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new ed(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class B3{}function nS(t){return new be(e=>e.error(t))}class U3{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Ju(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,J);if(null===n)return null;const r=new Gu([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,{},J,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Mr(r,n),s=new jT(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=BT(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=QT(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=rS(r);return i.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet)),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return ZT(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!JT(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const h=r.length>0?IT(r).parameters:{};s=new Gu(r,h,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,oS(e),pn(e),e.component,e,iS(n),sS(n)+r.length,aS(e))}else{const h=Yu(n,e,r);if(!h.matched)return null;o=h.consumedSegments,a=r.slice(h.lastChild),s=new Gu(o,h.parameters,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,oS(e),pn(e),e.component,e,iS(n),sS(n)+o.length,aS(e))}const l=(t=e).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:c,slicedSegments:u}=Ju(n,o,a,l.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution);var t;if(0===u.length&&c.hasChildren()){const h=this.processChildren(l,c);return null===h?null:[new Mr(s,h)]}if(0===l.length&&0===u.length)return[new Mr(s,[])];const d=pn(e)===i,f=this.processSegment(l,c,u,d?J:i);return null===f?null:[new Mr(s,f)]}}function W3(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function rS(t){const e=[],n=new Set;for(const r of t){if(!W3(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=rS(r.children);e.push(new Mr(r.value,i))}return e.filter(r=>!n.has(r))}function iS(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function sS(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function oS(t){return t.data||{}}function aS(t){return t.resolve||{}}function am(t){return Bi(e=>{const n=t(e);return n?Ze(n).pipe(fe(()=>e)):U(e)})}class Z3 extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const lm=new Y("ROUTES");class lS{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new rm(DT(o.injector.get(lm,void 0,R.Self|R.Optional)).map(sm),o)}),ri(s=>{throw n._loader$=void 0,s}));return n._loader$=new u$(i,()=>new $n).pipe(pT()),n._loader$}loadModuleFactory(e){return or(e()).pipe(Je(n=>n instanceof SD?U(n):Ze(this.compiler.compileModuleAsync(n))))}}class e8{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function t8(t){throw t}function n8(t,e,n){return e.parse("/")}function cS(t,e){return U(null)}const r8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},i8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xt=(()=>{class t{constructor(n,r,i,s,o,a,l){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $n,this.errorHandler=t8,this.malformedUriErrorHandler=n8,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cS,afterPreactivation:cS},this.urlHandlingStrategy=new e8,this.routeReuseStrategy=new Z3,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(ir),this.console=o.get(uu);const d=o.get(Pe);this.isNgZoneEnabled=d instanceof Pe&&Pe.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new ji(new te([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new lS(o,a,f=>this.triggerEvent(new vT(f)),f=>this.triggerEvent(new CT(f))),this.routerState=VT(this.currentUrlTree,this.rootComponentType),this.transitions=new Ln({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null==(n=this.location.getState())?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Vi(i=>0!==i.id),fe(i=>Ut(P({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Bi(i=>{let s=!1,o=!1;return U(i).pipe(Vt(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Ut(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Bi(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return nd(a.source)&&(this.browserUrlTree=a.extractedUrl),U(a).pipe(Bi(d=>{const f=this.transitions.getValue();return r.next(new qg(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions.getValue()?zn:Promise.resolve(d)}),function(t,e,n,r){return Bi(i=>function(t,e,n,r,i){return new b3(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(fe(s=>Ut(P({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Vt(d=>{this.currentNavigation=Ut(P({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(t,e,n,r,i){return Je(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new U3(t,e,n,r,i,s).recognize();return null===o?nS(new B3):U(o)}catch(o){return nS(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(fe(o=>Ut(P({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Vt(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const h=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(h,d)}this.browserUrlTree=d.urlAfterRedirects}const f=new _$(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(f)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:f,extractedUrl:h,source:p,restoredState:m,extras:g}=a,y=new qg(f,this.serializeUrl(h),p,m);r.next(y);const _=VT(h,this.rootComponentType).snapshot;return U(Ut(P({},a),{targetSnapshot:_,urlAfterRedirects:h,extras:Ut(P({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),zn}),am(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:f,replaceUrl:h}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!f,replaceUrl:!!h})}),Vt(a=>{const l=new y$(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),fe(a=>Ut(P({},a),{guards:T3(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(t,e){return Je(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?U(Ut(P({},n),{guardsResult:!0})):function(t,e,n,r){return Ze(t).pipe(Je(i=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?U(s.map(a=>{const l=td(a,e,i);let c;if(function(t){return t&&ii(t.canDeactivate)}(l))c=or(l.canDeactivate(t,e,n,r));else{if(!ii(l))throw new Error("Invalid CanDeactivate guard");c=or(l(t,e,n,r))}return c.pipe(vo())})).pipe(gl()):U(!0)}(i.component,i.route,n,e,r)),vo(i=>!0!==i,!0))}(o,r,i,t).pipe(Je(a=>a&&function(t){return"boolean"==typeof t}(a)?function(t,e,n,r){return Ze(e).pipe(yo(i=>Wg(function(t,e){return null!==t&&e&&e(new w$(t)),U(!0)}(i.route.parent,r),function(t,e){return null!==t&&e&&e(new D$(t)),U(!0)}(i.route,r),function(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>hT(()=>U(o.guards.map(l=>{const c=td(l,o.node,n);let u;if(function(t){return t&&ii(t.canActivateChild)}(c))u=or(c.canActivateChild(r,t));else{if(!ii(c))throw new Error("Invalid CanActivateChild guard");u=or(c(r,t))}return u.pipe(vo())})).pipe(gl())));return U(s).pipe(gl())}(t,i.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return U(!0);const i=r.map(s=>hT(()=>{const o=td(s,e,n);let a;if(function(t){return t&&ii(t.canActivate)}(o))a=or(o.canActivate(e,t));else{if(!ii(o))throw new Error("Invalid CanActivate guard");a=or(o(e,t))}return a.pipe(vo())}));return U(i).pipe(gl())}(t,i.route,n))),vo(i=>!0!==i,!0))}(r,s,t,e):U(a)),fe(a=>Ut(P({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Vt(a=>{if($i(a.guardsResult)){const c=Gg(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new v$(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Vi(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),am(a=>{if(a.guards.canActivateChecks.length)return U(a).pipe(Vt(l=>{const c=new C$(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Bi(l=>{let c=!1;return U(l).pipe(function(t,e){return Je(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return U(n);let s=0;return Ze(i).pipe(yo(o=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return U({});const s={};return Ze(i).pipe(Je(o=>function(t,e,n,r){const i=td(t,e,r);return or(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(Vt(a=>{s[o]=a}))),zg(1),Je(()=>Object.keys(s).length===i.length?U(s):zn))}(t._resolve,t,e,r).pipe(fe(s=>(t._resolvedData=s,t.data=P(P({},t.data),BT(t,n).resolve),null)))}(o.route,r,t,e)),Vt(()=>s++),zg(1),Je(o=>s===i.length?U(n):zn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Vt({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Vt(l=>{const c=new E$(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),am(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:f,replaceUrl:h}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!f,replaceUrl:!!h})}),fe(a=>{const l=function(t,e,n){const r=fl(t,e._root,n?n._root:void 0);return new LT(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Ut(P({},a),{targetRouterState:l})}),Vt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>fe(r=>(new s3(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Vt({next(){s=!0},complete(){s=!0}}),function(t){return Qe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null==(a=this.currentNavigation)?void 0:a.id)===i.id&&(this.currentNavigation=null)}),ri(a=>{if(o=!0,function(t){return t&&t[wT]}(a)){const l=$i(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const c=new yT(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nd(i.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new m$(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return zn}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(P(P({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const i={replaceUrl:!0},s=(null==(a=n.state)?void 0:a.navigationId)?n.state:null;if(s){const l=P({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(i.state=l)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){KT(n),this.config=n.map(sm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=P(P({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,i){if(0===n.length)return em(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $T(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return at(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new $T(n,e,r)}(n);if(s.toRoot())return em(e.root,new te([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new tm(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new tm(s,s===e.root,0)}const r=Ku(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new tm(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Qu(o.segmentGroup,o.index,s.commands):WT(o.segmentGroup,o.index,s.commands);return em(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=u?u:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=$i(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?P({},r8):!1===r?P({},i8):r,$i(n))return ST(this.currentUrlTree,n,i);const s=this.parseUrl(n);return ST(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new cl(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var y,_,E;if(this.disposed)return Promise.resolve(!1);const a=this.transitions.value,l=nd(r)&&a&&!nd(a.source),c=a.rawUrl.toString()===n.toString(),u=a.id===(null==(y=this.currentNavigation)?void 0:y.id);if(l&&c&&u)return Promise.resolve(!0);let f,h,p;o?(f=o.resolve,h=o.reject,p=o.promise):p=new Promise((I,H)=>{f=I,h=H});const m=++this.navigationId;let g;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),g=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!=(_=this.browserPageId)?_:0:(null!=(E=this.browserPageId)?E:0)+1):g=0,this.setTransition({id:m,targetPageId:g,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:f,reject:h,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(I=>Promise.reject(I))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=P(P({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(i=this.currentNavigation)?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null==(s=this.currentNavigation)?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new yT(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Gh()},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function nd(t){return"imperative"!==t}let rd=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new $n,this.subscription=n.events.subscribe(s=>{s instanceof cl&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:wo(this.skipLocationChange),replaceUrl:wo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:wo(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(A(xt),A(Hi),A(_o))},t.\u0275dir=ft({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&kt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&qc("target",r.target)("href",r.href,Jf)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[bi]}),t})();function wo(t){return""===t||!!t}class uS{}class dS{preload(e,n){return U(null)}}let fS=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new lS(i,r,l=>n.triggerEvent(new vT(l)),l=>n.triggerEvent(new CT(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Vi(n=>n instanceof cl),yo(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(ir);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return Ze(i).pipe(Yo(),fe(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?U(r._loadedConfig):this.loader.load(n.injector,r)).pipe(Je(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(D(xt),D(du),D(ce),D(uS))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),um=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof qg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof cl&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof ET&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new ET(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Gh()},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Wi=new Y("ROUTER_CONFIGURATION"),hS=new Y("ROUTER_FORROOT_GUARD"),c8=[pg,{provide:MT,useClass:NT},{provide:xt,useFactory:function(t,e,n,r,i,s,o={},a,l){const c=new xt(null,t,e,n,r,i,DT(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var d,f;null==(d=console.group)||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null==(f=console.groupEnd)||f.call(console)}),c},deps:[MT,ml,pg,ce,du,lm,Wi,[class{},new et],[class{},new et]]},ml,{provide:Hi,useFactory:function(t){return t.routerState.root},deps:[xt]},fS,dS,class{preload(e,n){return n().pipe(ri(()=>U(null)))}},{provide:Wi,useValue:{enableTracing:!1}}];function u8(){return new Fp("Router",xt)}let pS=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[c8,gS(n),{provide:hS,useFactory:h8,deps:[[xt,new et,new Gr]]},{provide:Wi,useValue:r||{}},{provide:_o,useFactory:f8,deps:[Li,[new Os(hg),new et],Wi]},{provide:um,useFactory:d8,deps:[xt,VU,Wi]},{provide:uS,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:dS},{provide:Fp,multi:!0,useFactory:u8},[dm,{provide:Ha,multi:!0,useFactory:_8,deps:[dm]},{provide:mS,useFactory:y8,deps:[dm]},{provide:aI,multi:!0,useExisting:mS}]]}}static forChild(n){return{ngModule:t,providers:[gS(n)]}}}return t.\u0275fac=function(n){return new(n||t)(D(hS,8),D(xt,8))},t.\u0275mod=qn({type:t}),t.\u0275inj=tn({}),t})();function d8(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new um(t,e,n)}function f8(t,e,n={}){return n.useHash?new yj(t,e):new E0(t,e)}function h8(t){return"guarded"}function gS(t){return[{provide:vN,multi:!0,useValue:t},{provide:lm,multi:!0,useValue:t}]}let dm=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new $n}appInitializer(){return this.injector.get(gj,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(xt),o=this.injector.get(Wi);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?U(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Wi),i=this.injector.get(fS),s=this.injector.get(um),o=this.injector.get(xt),a=this.injector.get(co);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(D(ce))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function _8(t){return t.appInitializer.bind(t)}function y8(t){return t.bootstrapListener.bind(t)}const mS=new Y("Router Initializer");let C8=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ys({type:t,selectors:[["app-not-found"]],decls:8,vars:0,consts:[["routerLink","/"]],template:function(n,r){1&n&&(ie(0,"div"),ie(1,"h1"),We(2,"404 Page Not Found"),se(),ie(3,"p"),We(4,"Go to "),ie(5,"a",0),We(6,"main page"),se(),We(7," to create a new ToDo List"),se(),se())},directives:[rd],styles:["a[_ngcontent-%COMP%]{color:#f50057}div[_ngcontent-%COMP%]{text-align:center}"]}),t})();const fm={now:()=>(fm.delegate||Date).now(),delegate:void 0};class E8 extends $n{constructor(e=1/0,n=1/0,r=fm){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function hm(t){return Qe((e,n)=>{Wn(t).subscribe(new Ye(n,()=>n.complete(),vn)),!n.closed&&e.subscribe(n)})}function _S(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function S(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){_S(s,r,i,o,a,"next",l)}function a(l){_S(s,r,i,o,a,"throw",l)}o(void 0)})}}const C=function(t,e){if(!t)throw bo(e)},bo=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},yS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},gm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0;let f=(15&a)<<2|c>>6,h=63&c;l||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ES=function(t){try{return gm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function b8(t){return wS(void 0,t)}function wS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!D8(n)||(t[n]=wS(t[n],e[n]));return t}function D8(t){return"__proto__"!==t}class Cl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function bS(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function DS(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function El(){return"object"==typeof indexedDB}function sd(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function mm(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Do extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Do.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Io.prototype.create)}}class Io{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(t,e){return t.replace(x8,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Do(i,`${this.serviceName}: ${o} (${i}).`,r)}}const x8=/\{\$([^}]+)}/g;function wl(t){return JSON.parse(t)}function qe(t){return JSON.stringify(t)}const od=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=wl(ES(s[0])||""),n=wl(ES(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}};function ar(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function To(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function IS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ad(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function _m(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(TS(s)&&TS(o)){if(!_m(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TS(t){return null!==t&&"object"==typeof t}class P8{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(f<<1|f>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function zi(t,e){return`${t} failed: ${e} argument `}const ld=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function vm(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function si(t){return t&&t._delegate?t._delegate:t}class Vn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qi="[DEFAULT]";class H8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Cl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:qi})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return S(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===qi?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Cm=[];var pe=(()=>{return(t=pe||(pe={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",pe;var t})();const SS={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},q8=pe.INFO,G8={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},K8=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=G8[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class cd{constructor(e){this.name=e,this._logLevel=q8,this._logHandler=K8,this._userLogHandler=null,Cm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?SS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}class Q8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Em="@firebase/app",wm=new cd("@firebase/app"),bm="[DEFAULT]",w4={[Em]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Gi=new Map,ud=new Map;function b4(t,e){try{t.container.addComponent(e)}catch(n){wm.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lr(t){const e=t.name;if(ud.has(e))return wm.debug(`There were multiple attempts to register component ${e}.`),!1;ud.set(e,t);for(const n of Gi.values())b4(n,t);return!0}function dd(t,e){return t.container.getProvider(e)}const bl=new Io("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class I4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bl.create("app-deleted",{appName:this._name})}}function T4(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:bm,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw bl.create("bad-app-name",{appName:String(r)});const i=Gi.get(r);if(i){if(_m(t,i.options)&&_m(n,i.config))return i;throw bl.create("duplicate-app",{appName:r})}const s=new z8(r);for(const a of ud.values())s.addComponent(a);const o=new I4(t,n,s);return Gi.set(r,o),o}function RS(t=bm){const e=Gi.get(t);if(!e)throw bl.create("no-app",{appName:t});return e}function lt(t,e,n){var r;let i=null!==(r=w4[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void wm.warn(a.join(" "))}lr(new Vn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}lr(new Vn("platform-logger",e=>new Q8(e),"PRIVATE")),lt(Em,"0.7.9",""),lt(Em,"0.7.9","esm2017"),lt("fire-js",""),lt("firebase","9.5.0","app");var So=Ke(995);const NS="@firebase/installations",OS="w:0.5.4",kS="FIS_v2",Pr=new Io("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function FS(t){return t instanceof Do&&t.code.includes("request-failed")}function Tm({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function LS(t){return{token:t.token,requestStatus:2,expiresIn:k4(t.expiresIn),creationTime:Date.now()}}function Sm(t,e){return Am.apply(this,arguments)}function Am(){return Am=S(function*(t,e){const r=(yield e.json()).error;return Pr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),Am.apply(this,arguments)}function VS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function BS(t,{refreshToken:e}){const n=VS(t);return n.append("Authorization",function(t){return`${kS} ${t}`}(e)),n}function xm(t){return Rm.apply(this,arguments)}function Rm(){return Rm=S(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),Rm.apply(this,arguments)}function k4(t){return Number(t.replace("s","000"))}function L4(t,e){return Mm.apply(this,arguments)}function Mm(){return Mm=S(function*(t,{fid:e}){const n=Tm(t),s={method:"POST",headers:VS(t),body:JSON.stringify({fid:e,authVersion:kS,appId:t.appId,sdkVersion:OS})},o=yield xm(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:LS(a.authToken)}}throw yield Sm("Create Installation",o)}),Mm.apply(this,arguments)}function jS(t){return new Promise(e=>{setTimeout(e,t)})}const B4=/^[cdef][\w-]{21}$/;function j4(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function(t){return function(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return B4.test(n)?n:""}catch(t){return""}}function Ao(t){return`${t.appName}!${t.appId}`}const xo=new Map;function US(t,e){const n=Ao(t);HS(n,e),function(t,e){const n=(!Ki&&"BroadcastChannel"in self&&(Ki=new BroadcastChannel("[Firebase] FID Change"),Ki.onmessage=t=>{HS(t.data.key,t.data.fid)}),Ki);n&&n.postMessage({key:t,fid:e}),0===xo.size&&Ki&&(Ki.close(),Ki=null)}(n,e)}function HS(t,e){const n=xo.get(t);if(n)for(const r of n)r(e)}let Ki=null;const Qi="firebase-installations-store";let Pm=null;function Om(){return Pm||(Pm=(0,So.openDb)("firebase-installations-database",1,t=>{0===t.oldVersion&&t.createObjectStore(Qi)})),Pm}function fd(t,e){return km.apply(this,arguments)}function km(){return km=S(function*(t,e){const n=Ao(t),i=(yield Om()).transaction(Qi,"readwrite"),s=i.objectStore(Qi),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&US(t,e.fid),e}),km.apply(this,arguments)}function Fm(t){return Lm.apply(this,arguments)}function Lm(){return Lm=S(function*(t){const e=Ao(t),r=(yield Om()).transaction(Qi,"readwrite");yield r.objectStore(Qi).delete(e),yield r.complete}),Lm.apply(this,arguments)}function Dl(t,e){return Vm.apply(this,arguments)}function Vm(){return Vm=S(function*(t,e){const n=Ao(t),i=(yield Om()).transaction(Qi,"readwrite"),s=i.objectStore(Qi),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&US(t,a.fid),a}),Vm.apply(this,arguments)}function Bm(t){return jm.apply(this,arguments)}function jm(){return jm=S(function*(t){let e;const n=yield Dl(t,r=>{const i=G4(r),s=K4(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),jm.apply(this,arguments)}function G4(t){return qS(t||{fid:j4(),registrationStatus:0})}function K4(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Pr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function(t,e){return Um.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Y4(t)}:{installationEntry:e}}function Um(){return Um=S(function*(t,e){try{return fd(t,yield L4(t,e))}catch(n){throw FS(n)&&409===n.customData.serverCode?yield Fm(t):yield fd(t,{fid:e.fid,registrationStatus:0}),n}}),Um.apply(this,arguments)}function Y4(t){return Hm.apply(this,arguments)}function Hm(){return Hm=S(function*(t){let e=yield zS(t);for(;1===e.registrationStatus;)yield jS(100),e=yield zS(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Bm(t);return r||n}return e}),Hm.apply(this,arguments)}function zS(t){return Dl(t,e=>{if(!e)throw Pr.create("installation-not-found");return qS(e)})}function qS(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Z4(t,e){return $m.apply(this,arguments)}function $m(){return $m=S(function*({appConfig:t,platformLoggerProvider:e},n){const r=X4(t,n),i=BS(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:OS}})},l=yield xm(()=>fetch(r,a));if(l.ok)return LS(yield l.json());throw yield Sm("Generate Auth Token",l)}),$m.apply(this,arguments)}function X4(t,{fid:e}){return`${Tm(t)}/${e}/authTokens:generate`}function Wm(t){return zm.apply(this,arguments)}function zm(){return zm=S(function*(t,e=!1){let n;const r=yield Dl(t.appConfig,s=>{if(!KS(s))throw Pr.create("not-registered");const o=s.authToken;if(!e&&nW(o))return s;if(1===o.requestStatus)return n=eW(t,e),s;{if(!navigator.onLine)throw Pr.create("app-offline");const a=iW(s);return n=tW(t,a),a}});return n?yield n:r.authToken}),zm.apply(this,arguments)}function eW(t,e){return qm.apply(this,arguments)}function qm(){return qm=S(function*(t,e){let n=yield GS(t.appConfig);for(;1===n.authToken.requestStatus;)yield jS(100),n=yield GS(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Wm(t,e):r}),qm.apply(this,arguments)}function GS(t){return Dl(t,e=>{if(!KS(e))throw Pr.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function tW(t,e){return Gm.apply(this,arguments)}function Gm(){return Gm=S(function*(t,e){try{const n=yield Z4(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield fd(t.appConfig,r),n}catch(n){if(!FS(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield fd(t.appConfig,r)}else yield Fm(t.appConfig);throw n}}),Gm.apply(this,arguments)}function KS(t){return void 0!==t&&2===t.registrationStatus}function nW(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function iW(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Km(){return Km=S(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Bm(e.appConfig);return r?r.catch(console.error):Wm(e).catch(console.error),n.fid}),Km.apply(this,arguments)}function Qm(){return Qm=S(function*(t,e=!1){const n=t;return yield lW(n.appConfig),(yield Wm(n,e)).token}),Qm.apply(this,arguments)}function lW(t){return Ym.apply(this,arguments)}function Ym(){return Ym=S(function*(t){const{registrationPromise:e}=yield Bm(t);e&&(yield e)}),Ym.apply(this,arguments)}function Xm(t){return Pr.create("missing-app-config-values",{valueName:t})}const QS="installations";lr(new Vn(QS,t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw Xm("App Configuration");if(!t.name)throw Xm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Xm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,platformLoggerProvider:dd(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),lr(new Vn("installations-internal",t=>{const n=dd(t.getProvider("app").getImmediate(),QS).getImmediate();return{getId:()=>function(t){return Km.apply(this,arguments)}(n),getToken:i=>function(t){return Qm.apply(this,arguments)}(n,i)}},"PRIVATE")),lt(NS,"0.5.4"),lt(NS,"0.5.4","esm2017");const e_="@firebase/remote-config",Bt=new Io("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class TW{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return S(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function SW(t=navigator){return t.languages&&t.languages[0]||t.language}class AW{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return S(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:SW()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((y,_)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",_(E)})});let f;try{yield Promise.race([u,d]),f=yield u}catch(y){let _="fetch-client-network";throw"AbortError"===y.name&&(_="fetch-timeout"),Bt.create(_,{originalErrorMessage:y.message})}let h=f.status;const p=f.headers.get("ETag")||void 0;let m,g;if(200===f.status){let y;try{y=yield f.json()}catch(_){throw Bt.create("fetch-client-parse",{originalErrorMessage:_.message})}m=y.entries,g=y.state}if("INSTANCE_STATE_UNSPECIFIED"===g?h=500:"NO_CHANGE"===g?h=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==h&&200!==h)throw Bt.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:m}})()}}class MW{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return S(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return S(function*(){yield function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Bt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(t){if(!(t instanceof Do&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+vm(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class OW{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pd(t,e){const n=t.target.error||void 0;return Bt.create(e,{originalErrorMessage:n&&n.message})}const Yi="app_namespace_store";class VW{constructor(e,n,r,i=function(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(pd(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Yi,{keyPath:"compositeKey"})}}catch(n){e(Bt.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return S(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Yi],"readonly").objectStore(Yi),l=n.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(pd(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){s(Bt.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return S(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([Yi],"readwrite").objectStore(Yi),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:n});u.onerror=d=>{o(pd(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Bt.create("storage-set",{originalErrorMessage:u&&u.message}))}})})()}delete(e){var n=this;return S(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Yi],"readwrite").objectStore(Yi),l=n.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(pd(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Bt.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class BW{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return S(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function UW(){return s_.apply(this,arguments)}function s_(){return(s_=S(function*(){if(!El())return!1;try{return yield sd()}catch(t){return!1}})).apply(this,arguments)}lr(new Vn("remote-config",function(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Bt.create("registration-window");if(!El())throw Bt.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Bt.create("registration-project-id");if(!o)throw Bt.create("registration-api-key");if(!a)throw Bt.create("registration-app-id");const l=new VW(a,r.name,n=n||"firebase"),c=new BW(l),u=new cd(e_);u.logLevel=pe.ERROR;const d=new AW(i,"9.5.0",n,s,o,a),f=new MW(d,l),h=new TW(f,l,c,u),p=new OW(r,h,c,l,u);return function(t){const e=si(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),lt(e_,"0.3.3"),lt(e_,"0.3.3","esm2017");const HW="/firebase-messaging-sw.js",$W="/firebase-cloud-messaging-push-scope",XS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eA="google.c.a.c_id",zW="google.c.a.c_l",qW="google.c.a.ts",GW="google.c.a.e";var Ro=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Ro||(Ro={})),Ro))();function Or(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function KW(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const o_="fcm_token_details_db",tA="fcm_token_object_Store";function YW(t){return a_.apply(this,arguments)}function a_(){return a_=S(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(o_))return null;let e=null;return(yield(0,So.openDb)(o_,5,function(){var r=S(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(tA))return;const o=i.transaction.objectStore(tA),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const l=a;if(!l.auth||!l.p256dh||!l.endpoint)return;e={token:l.fcmToken,createTime:null!==(s=l.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"==typeof l.vapidKey?l.vapidKey:Or(l.vapidKey)}}}else if(3===i.oldVersion){const l=a;e={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:Or(l.auth),p256dh:Or(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:Or(l.vapidKey)}}}else if(4===i.oldVersion){const l=a;e={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:Or(l.auth),p256dh:Or(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:Or(l.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,So.deleteDb)(o_),yield(0,So.deleteDb)("fcm_vapid_details_db"),yield(0,So.deleteDb)("undefined"),JW(e)?e:null}),a_.apply(this,arguments)}function JW(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ji="firebase-messaging-store";let l_=null;function c_(){return l_||(l_=(0,So.openDb)("firebase-messaging-database",1,t=>{0===t.oldVersion&&t.createObjectStore(Ji)})),l_}function nA(t){return u_.apply(this,arguments)}function u_(){return u_=S(function*(t){const e=p_(t),r=yield(yield c_()).transaction(Ji).objectStore(Ji).get(e);if(r)return r;{const i=yield YW(t.appConfig.senderId);if(i)return yield d_(t,i),i}}),u_.apply(this,arguments)}function d_(t,e){return f_.apply(this,arguments)}function f_(){return f_=S(function*(t,e){const n=p_(t),i=(yield c_()).transaction(Ji,"readwrite");return yield i.objectStore(Ji).put(e,n),yield i.complete,e}),f_.apply(this,arguments)}function e6(t){return h_.apply(this,arguments)}function h_(){return h_=S(function*(t){const e=p_(t),r=(yield c_()).transaction(Ji,"readwrite");yield r.objectStore(Ji).delete(e),yield r.complete}),h_.apply(this,arguments)}function p_({appConfig:t}){return t.appId}const ct=new Io("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function n6(t,e){return g_.apply(this,arguments)}function g_(){return g_=S(function*(t,e){const n=yield v_(t),r=iA(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(y_(t.appConfig),i)).json()}catch(o){throw ct.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw ct.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw ct.create("token-subscribe-no-token");return s.token}),g_.apply(this,arguments)}function r6(t,e){return m_.apply(this,arguments)}function m_(){return m_=S(function*(t,e){const n=yield v_(t),r=iA(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${y_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw ct.create("token-update-failed",{errorInfo:o})}if(s.error)throw ct.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw ct.create("token-update-no-token");return s.token}),m_.apply(this,arguments)}function rA(t,e){return __.apply(this,arguments)}function __(){return __=S(function*(t,e){const r={method:"DELETE",headers:yield v_(t)};try{const s=yield(yield fetch(`${y_(t.appConfig)}/${e}`,r)).json();if(s.error)throw ct.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw ct.create("token-unsubscribe-failed",{errorInfo:i})}}),__.apply(this,arguments)}function y_({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function v_(t){return C_.apply(this,arguments)}function C_(){return C_=S(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}),C_.apply(this,arguments)}function iA({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==XS&&(i.web.applicationPubKey=r),i}const i6=6048e5;function s6(t){return E_.apply(this,arguments)}function E_(){return E_=S(function*(t){const e=yield a6(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Or(e.getKey("auth")),p256dh:Or(e.getKey("p256dh"))},r=yield nA(t.firebaseDependencies);if(r){if(l6(r.subscriptionOptions,n))return Date.now()>=r.createTime+i6?o6(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield rA(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return oA(t.firebaseDependencies,n)}return oA(t.firebaseDependencies,n)}),E_.apply(this,arguments)}function sA(t){return w_.apply(this,arguments)}function w_(){return w_=S(function*(t){const e=yield nA(t.firebaseDependencies);e&&(yield rA(t.firebaseDependencies,e.token),yield e6(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),w_.apply(this,arguments)}function o6(t,e){return b_.apply(this,arguments)}function b_(){return b_=S(function*(t,e){try{const n=yield r6(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield d_(t.firebaseDependencies,r),n}catch(n){throw yield sA(t),n}}),b_.apply(this,arguments)}function oA(t,e){return D_.apply(this,arguments)}function D_(){return D_=S(function*(t,e){const r={token:yield n6(t,e),createTime:Date.now(),subscriptionOptions:e};return yield d_(t,r),r.token}),D_.apply(this,arguments)}function a6(t,e){return I_.apply(this,arguments)}function I_(){return I_=S(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:KW(e)})}),I_.apply(this,arguments)}function l6(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function aA(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function f6(t){return"object"==typeof t&&!!t&&eA in t}function lA(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function T_(t){return ct.create("missing-app-config-values",{valueName:t})}lA("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),lA("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class p6{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(t){if(!t||!t.options)throw T_("App Configuration Object");if(!t.name)throw T_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw T_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function cA(t){return S_.apply(this,arguments)}function S_(){return S_=S(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(HW,{scope:$W}),t.swRegistration.update().catch(()=>{})}catch(e){throw ct.create("failed-service-worker-registration",{browserErrorMessage:e.message})}}),S_.apply(this,arguments)}function g6(t,e){return A_.apply(this,arguments)}function A_(){return A_=S(function*(t,e){if(!e&&!t.swRegistration&&(yield cA(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw ct.create("invalid-sw-registration");t.swRegistration=e}}),A_.apply(this,arguments)}function m6(t,e){return x_.apply(this,arguments)}function x_(){return x_=S(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=XS)}),x_.apply(this,arguments)}function R_(){return R_=S(function*(t,e){if(!navigator)throw ct.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ct.create("permission-blocked");return yield m6(t,null==e?void 0:e.vapidKey),yield g6(t,null==e?void 0:e.serviceWorkerRegistration),s6(t)}),R_.apply(this,arguments)}function _6(t,e,n){return M_.apply(this,arguments)}function M_(){return M_=S(function*(t,e,n){const r=y6(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[eA],message_name:n[zW],message_time:n[qW],message_device_time:Math.floor(Date.now()/1e3)})}),M_.apply(this,arguments)}function y6(t){switch(t){case Ro.NOTIFICATION_CLICKED:return"notification_open";case Ro.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function N_(){return N_=S(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ro.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(aA(n)):t.onMessageHandler.next(aA(n)));const r=n.data;f6(r)&&"1"===r[GW]&&(yield _6(t,n.messageType,r))}),N_.apply(this,arguments)}const dA="@firebase/messaging";function hA(){return P_.apply(this,arguments)}function P_(){return(P_=S(function*(){return"undefined"!=typeof window&&El()&&(yield sd())&&mm()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}lr(new Vn("messaging",t=>{const e=new p6(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function(t,e){return N_.apply(this,arguments)}(e,n)),e},"PUBLIC")),lr(new Vn("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function(t,e){return R_.apply(this,arguments)}(e,r)}},"PRIVATE")),lt(dA,"0.9.4"),lt(dA,"0.9.4","esm2017");const gd="analytics",I6="firebase_id",A6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pA="https://www.googletagmanager.com/gtag/js",ut=new cd("@firebase/analytics");function gA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function x6(t,e){const n=document.createElement("script");n.src=`${pA}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function M6(t,e,n,r,i,s){return F_.apply(this,arguments)}function F_(){return F_=S(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield gA(n)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){ut.error(a)}t("config",i,s)}),F_.apply(this,arguments)}function N6(t,e,n,r,i){return L_.apply(this,arguments)}function L_(){return L_=S(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield gA(n);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){ut.error(s)}}),L_.apply(this,arguments)}function k6(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(pA))return e;return null}const Xt=new Io("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),mA=new class{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function j6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function U6(t){return V_.apply(this,arguments)}function V_(){return V_=S(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:j6(r)},s=A6.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();(null===(e=l.error)||void 0===e?void 0:e.message)&&(a=l.error.message)}catch(l){}throw Xt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),V_.apply(this,arguments)}function H6(t){return B_.apply(this,arguments)}function B_(){return B_=S(function*(t,e=mA,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Xt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Xt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new z6;return setTimeout(S(function*(){a.abort()}),void 0!==n?n:6e4),_A({appId:r,apiKey:i,measurementId:s},o,a,e)}),B_.apply(this,arguments)}function _A(t,e,n){return j_.apply(this,arguments)}function j_(){return j_=S(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=mA){const{appId:s,measurementId:o}=t;try{yield $6(r,e)}catch(a){if(o)return ut.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield U6(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!W6(a)){if(i.deleteThrottleMetadata(s),o)return ut.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const l=503===Number(a.customData.httpStatus)?vm(n,i.intervalMillis,30):vm(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,c),ut.debug(`Calling attemptFetch again in ${l} millis`),_A(t,c,r,i)}}),j_.apply(this,arguments)}function $6(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Xt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function W6(t){if(!(t instanceof Do&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class z6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function q6(){return U_.apply(this,arguments)}function U_(){return U_=S(function*(){if(!El())return ut.warn(Xt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield sd()}catch(t){return ut.warn(Xt.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0}),U_.apply(this,arguments)}function H_(){return H_=S(function*(t,e,n,r,i,s,o){var a;const l=H6(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&ut.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>ut.error(h)),e.push(l);const c=q6().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([l,c]);k6()||x6(s,u.measurementId),i("js",new Date);const f=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return f.origin="firebase",f.update=!0,null!=d&&(f[I6]=d),i("config",u.measurementId,f),u.measurementId}),H_.apply(this,arguments)}class K6{constructor(e){this.app=e}_delete(){return delete kr[this.app.options.appId],Promise.resolve()}}let kr={},yA=[];const vA={};let EA,Il,md="dataLayer",$_=!1;function Y6(t,e,n){!function(){const t=[];if(DS()&&t.push("This is a browser extension environment."),mm()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Xt.create("invalid-analytics-context",{errorInfo:e});ut.warn(n.message)}}();const r=t.options.appId;if(!r)throw Xt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Xt.create("no-api-key");ut.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=kr[r])throw Xt.create("already-exists",{id:r});if(!$_){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(md);const{wrappedGtag:s,gtagCore:o}=function(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(t,e,n,r){function s(){return(s=S(function*(o,a,l){try{"event"===o?yield N6(t,e,n,a,l):"config"===o?yield M6(t,e,n,r,a,l):t("set",a)}catch(c){ut.error(c)}})).apply(this,arguments)}return function(o,a,l){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(kr,yA,vA,md,"gtag");Il=s,EA=o,$_=!0}return kr[r]=function(t,e,n,r,i,s,o){return H_.apply(this,arguments)}(t,yA,vA,e,EA,md,n),new K6(t)}function W_(){return W_=S(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),W_.apply(this,arguments)}function rz(){return Q_.apply(this,arguments)}function Q_(){return(Q_=S(function*(){if(DS()||!mm()||!El())return!1;try{return yield sd()}catch(t){return!1}})).apply(this,arguments)}const wA="@firebase/analytics";lr(new Vn(gd,(e,{options:n})=>Y6(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),lr(new Vn("analytics-internal",function(e){try{const n=e.getProvider(gd).getImmediate();return{logEvent:(r,i,s)=>function(t,e,n,r){t=si(t),function(t,e,n,r,i){return W_.apply(this,arguments)}(Il,kr[t.app.options.appId],e,n,r).catch(i=>ut.error(i))}(n,r,i,s)}}catch(n){throw Xt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),lt(wA,"0.7.4"),lt(wA,"0.7.4","esm2017");class oz extends Fe{constructor(e,n){super()}schedule(e,n=0){return this}}const _d={setInterval(...t){const{delegate:e}=_d;return((null==e?void 0:e.setInterval)||setInterval)(...t)},clearInterval(t){const{delegate:e}=_d;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class DA extends oz{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return _d.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;_d.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}class Tl{constructor(e,n=Tl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Tl.now=fm.now;class IA extends Tl{constructor(e,n=Tl.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const cz=new class extends IA{}(class extends DA{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),uz=new IA(DA),TA=new La("7.2.0"),Y_="__angularfire_symbol__analyticsIsSupported",J_="__angularfire_symbol__remoteConfigIsSupported",Z_="__angularfire_symbol__messagingIsSupported";function Mo(){}globalThis[Y_]||(globalThis[Y_]=rz().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[Z_]||(globalThis[Z_]=hA().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[J_]||(globalThis[J_]=UW().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));class RA{constructor(e,n=cz){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class hz{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mo,{},Mo,Mo)),n.pipe(Vt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pz=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new RA(Zone.current)),this.insideAngular=n.run(()=>new RA(Zone.current,uz)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(D(Pe))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zi(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function gz(t){return Zi().ngZone.runOutsideAngular(()=>t())}function Xi(t){return Zi().ngZone.run(()=>t())}function mz(t){return Zi(),function(t){return function(n){return(n=n.lift(new hz(t.ngZone))).pipe(nc(t.outsideAngular),tc(t.insideAngular))}}(Zi())(t)}const yz=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Xi(()=>t.apply(n,arguments))}},cr=(t,e)=>function(){let n;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(n||(n=Xi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mo,{},Mo,Mo)))),arguments[i]=yz(arguments[i],n));const r=gz(()=>t.apply(this,arguments));if(!e){if(r instanceof be){const i=Zi();return r.pipe(nc(i.outsideAngular),tc(i.insideAngular))}return Xi(()=>r)}return r instanceof be?r.pipe(mz):r instanceof Promise?Xi(()=>new Promise((i,s)=>r.then(o=>Xi(()=>i(o)),o=>Xi(()=>s(o))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:Xi(()=>r)};class Sl{constructor(e){return e}}const ey=new Y("angularfire2._apps"),Ez={provide:Sl,useFactory:function(t){return t&&1===t.length?t[0]:new Sl(RS())},deps:[[new et,ey]]},wz={provide:class{constructor(){return Array.from(Gi.values())}},deps:[[new et,ey]]};function bz(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Sl(r)}}let Dz=(()=>{class t{constructor(n){lt("angularfire",TA.full,"core"),lt("angularfire",TA.full,"app"),lt("angular",cp.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(D(Wa))},t.\u0275mod=qn({type:t}),t.\u0275inj=tn({providers:[Ez,wz]}),t})();function Iz(t,...e){return{ngModule:Dz,providers:[{provide:ey,useFactory:bz(t),multi:!0,deps:[Pe,ce,pz,...e]}]}}const Tz=cr(T4,!0),MA="@firebase/database";let ty="";class Az{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),qe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:wl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class xz{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return ar(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const PA=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Az(e)}}catch(e){}return new xz},es=PA("localStorage"),ny=PA("sessionStorage"),No=new cd("@firebase/database"),OA=function(){let t=1;return function(){return t++}}(),kA=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,C(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new P8;n.update(e);const r=n.digest();return gm.encodeByteArray(r)},Al=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Al.apply(null,r):e+="object"==typeof r?qe(r):r,e+=" "}return e};let ts=null,FA=!0;const it=function(...t){if(!0===FA&&(FA=!1,null===ts&&!0===ny.get("logging_enabled")&&function(t,e){C(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(No.logLevel=pe.VERBOSE,ts=No.log.bind(No),e&&ny.set("logging_enabled",!0)):"function"==typeof t?ts=t:(ts=null,ny.remove("logging_enabled"))}(!0)),ts){const e=Al.apply(null,t);ts(e)}},xl=function(t){return function(...e){it(t,...e)}},ry=function(...t){const e="FIREBASE INTERNAL ERROR: "+Al(...t);No.error(e)},ur=function(...t){const e=`FIREBASE FATAL ERROR: ${Al(...t)}`;throw No.error(e),new Error(e)},Rt=function(...t){const e="FIREBASE WARNING: "+Al(...t);No.warn(e)},yd=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Fr="[MIN_NAME]",dr="[MAX_NAME]",ns=function(t,e){if(t===e)return 0;if(t===Fr||e===dr)return-1;if(e===Fr||t===dr)return 1;{const n=vd(t),r=vd(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Nz=function(t,e){return t===e?0:t<e?-1:1},Rl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+qe(e))},iy=function(t){if("object"!=typeof t||null===t)return qe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=qe(e[r]),n+=":",n+=iy(t[e[r]]);return n+="}",n},VA=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function st(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const BA=function(t){C(!yd(t),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);1===f.length&&(f="0"+f),d+=f}return d.toLowerCase()},Fz=new RegExp("^-?(0*)\\d{1,10}$"),vd=function(t){if(Fz.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Po=function(t){try{t()}catch(e){setTimeout(()=>{throw Rt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Ml=function(t,e){const n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n};class Vz{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=null==n?void 0:n.getImmediate({optional:!0}),this.appCheck||null==n||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Rt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Bz{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(it("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rt(e)}}let Nl=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const zA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,GA="websocket",KA="long_polling";class ay{constructor(e,n,r,i,s=!1,o="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=es.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&es.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function QA(t,e,n){let r;if(C("string"==typeof e,"typeof type must == string"),C("object"==typeof n,"typeof params must == object"),e===GA)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==KA)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return st(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Hz{constructor(){this.counters_={}}incrementCounter(e,n=1){ar(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return b8(this.counters_)}}const ly={},cy={};function uy(t){const e=t.toString();return ly[e]||(ly[e]=new Hz),ly[e]}class Wz{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Po(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Oo{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xl(e),this.stats_=uy(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),QA(n,KA,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Wz(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dy((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&zA.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Oo.forceAllow_=!0}static forceDisallow(){Oo.forceDisallow_=!0}static isAvailable(){return!(!Oo.forceAllow_&&(Oo.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=function(t){const e=yS(t);return gm.encodeByteArray(e,!0)}(n),i=VA(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=qe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class dy{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=OA(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=dy.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){it("frame writing exception"),a.stack&&it(a.stack),it(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||it("No IE domain setting required")}catch(n){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{it("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Pl=null;"undefined"!=typeof MozWebSocket?Pl=MozWebSocket:"undefined"!=typeof WebSocket&&(Pl=WebSocket);let Ol=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xl(this.connId),this.stats_=uy(r),this.connURL=t.connectionURL_(r,a,l,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s){const o={v:"5"};return"undefined"!=typeof location&&location.hostname&&zA.test(location.hostname)&&(o.r="f"),r&&(o.s=r),i&&(o.ls=i),s&&(o.ac=s),QA(n,GA,o)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,es.set("previous_websocket_failure",!0);try{this.mySock=new Pl(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Pl&&!t.forceDisallow_}static previouslyFailed(){return es.isInMemoryStorage||!0===es.get("previous_websocket_failure")}markConnectionHealthy(){es.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=wl(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(C(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=qe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=VA(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})();class fy{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Oo,Ol]}initTransports_(e){const n=Ol&&Ol.isAvailable();let r=n&&!Ol.previouslyFailed();if(e.webSocketOnly&&(n||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ol];else{const i=this.transports_=[];for(const s of fy.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class lx{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xl("c:"+this.id+":"),this.transportManager_=new fy(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ml(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Rl("t",e),r=Rl("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Rl("t",e),r=Rl("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Rl("t",e);if("d"in e){const r=e.d;if("h"===n)this.onHandshake_(r);else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?ry("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ry("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ml(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ml(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(es.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class cx{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class ux{constructor(e){this.allowedEvents_=e,this.listeners_={},C(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){C(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Ed extends ux{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!bS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ed}getInitialEvent(e){return C("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class de{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function oe(){return new de("")}function q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function oi(t){return t.pieces_.length-t.pieceNum_}function ye(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new de(t.pieces_,e)}function py(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function kl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function hx(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new de(e,0)}function Te(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof de)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new de(n,0)}function G(t){return t.pieceNum_>=t.pieces_.length}function Mt(t,e){const n=q(t),r=q(e);if(null===n)return e;if(n===r)return Mt(ye(t),ye(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function fq(t,e){const n=kl(t,0),r=kl(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=ns(n[i],r[i]);if(0!==s)return s}return n.length===r.length?0:n.length<r.length?-1:1}function gy(t,e){if(oi(t)!==oi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function gn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(oi(t)>oi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class hq{constructor(e,n){this.errorPrefix_=n,this.parts_=kl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ld(this.parts_[r]);px(this)}}function px(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+rs(t))}function rs(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class my extends ux{constructor(){let e,n;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new my}getInitialEvent(e){return C("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Fl=1e3;let bd,is=(()=>{class t extends cx{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=xl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");my.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Ed.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(qe(o)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new Cl,i={p:n._path.toString(),q:n._queryObject},s={action:"g",request:i,onComplete:a=>{const l=a.d;"ok"===a.s?(this.onDataUpdate_(i.p,l,!1,null),r.resolve(l)):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const a=this.outstandingGets_[o];void 0===a||s!==a||(delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+o+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&ar(n,"w")){const i=To(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=od(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=od(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+qe(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):ry("Unrecognized action received from server: "+qe(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Fl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Fl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return S(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};n.realtime_={close:u,sendRequest:function(h){C(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)}};const f=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[h,p]=yield Promise.all([n.authTokenProvider_.getToken(f),n.appCheckTokenProvider_.getToken(f)]);l?it("getToken() completed but was canceled"):(it("getToken() completed. Creating connection."),n.authToken_=h&&h.accessToken,n.appCheckToken_=p&&p.token,c=new lx(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,m=>{Rt(m+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(h){n.log_("Failed to get token: "+h),l||(n.repoInfo_.nodeAdmin&&Rt(h),u())}}})()}interrupt(n){it("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){it("Resuming connection for reason: "+n),delete this.interruptReasons_[n],IS(this.interruptReasons_)&&(this.reconnectDelay_=Fl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>iy(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new de(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){it("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){it("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+ty.replace(/\./g,"-")]=1,bS()?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Ed.getInstance().currentlyOnline();return IS(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Z(e,n)}}class wd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Z(Fr,e),i=new Z(Fr,n);return 0!==this.compare(r,i)}minPost(){return Z.MIN}}class _x extends wd{static get __EMPTY_NODE(){return bd}static set __EMPTY_NODE(e){bd=e}compare(e,n){return ns(e.name,n.name)}isDefinedOn(e){throw bo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Z.MIN}maxPost(){return new Z(dr,bd)}makePost(e,n){return C("string"==typeof e,"KeyIndex indexValue must always be a string."),new Z(e,bd)}toString(){return".key"}}const fr=new _x;class Dd{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let yy,Bn=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=null!=i?i:t.RED,this.left=null!=s?s:jt.EMPTY_NODE,this.right=null!=o?o:jt.EMPTY_NODE}copy(n,r,i,s,o){return new t(null!=n?n:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return jt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return jt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class jt{constructor(e,n=jt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new jt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Bn.BLACK,null,null))}remove(e){return new jt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Bn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Dd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Dd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Dd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Dd(this.root_,null,this.comparator_,!0,e)}}function wq(t,e){return ns(t.name,e.name)}function _y(t,e){return ns(t,e)}jt.EMPTY_NODE=new class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Bn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const yx=function(t){return"number"==typeof t?"number:"+BA(t):"string:"+t},vx=function(t){if(t.isLeafNode()){const e=t.val();C("string"==typeof e||"number"==typeof e||"object"==typeof e&&ar(e,".sv"),"Priority must be a string or number.")}else C(t===yy||t.isEmpty(),"priority of unexpected type.");C(t===yy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Cx,Ex,wx,ko=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,C(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),vx(this.priorityNode_)}static set __childrenNodeConstructor(n){Cx=n}static get __childrenNodeConstructor(){return Cx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return G(n)?this:".priority"===q(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=q(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(C(".priority"!==i||1===oi(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+yx(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?BA(this.value_):this.value_,this.lazyHash_=kA(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(C(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return C(s>=0,"Unknown leaf type: "+r),C(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Ee=new class extends wd{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?ns(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Z.MIN}maxPost(){return new Z(dr,new ko("[PRIORITY-POST]",wx))}makePost(e,n){const r=Ex(e);return new Z(n,new ko("[PRIORITY-POST]",r))}toString(){return".priority"}},Sq=Math.log(2);class Aq{constructor(e){this.count=parseInt(Math.log(e+1)/Sq,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Id=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(0===u)return null;if(1===u)return d=t[l],f=n?n(d):d,new Bn(f,d.node,Bn.BLACK,null,null);{const h=parseInt(u/2,10)+l,p=i(l,h),m=i(h+1,c);return d=t[h],f=n?n(d):d,new Bn(f,d.node,Bn.BLACK,p,m)}},a=function(l){let c=null,u=null,d=t.length;const f=function(p,m){const g=d-p,y=d;d-=p;const _=i(g+1,y),E=t[g],I=n?n(E):E;h(new Bn(I,E.node,m,null,_))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));m?f(g,Bn.BLACK):(f(g,Bn.BLACK),f(g,Bn.RED))}return u}(new Aq(t.length));return new jt(r||e,a)};let vy;const Fo={};class Lr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return C(Fo&&Ee,"ChildrenNode.ts has not been loaded"),vy=vy||new Lr({".priority":Fo},{".priority":Ee}),vy}get(e){const n=To(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof jt?n:null}hasIndex(e){return ar(this.indexSet_,e.toString())}addIndex(e,n){C(e!==fr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Z.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Id(r,e.getCompare()):Fo;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Lr(u,c)}addToIndexes(e,n){const r=ad(this.indexes_,(i,s)=>{const o=To(this.indexSet_,s);if(C(o,"Missing index implementation for "+s),i===Fo){if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Z.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Id(a,o.getCompare())}return Fo}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Z(e.name,a))),l.insert(e,e.node)}});return new Lr(r,this.indexSet_)}removeFromIndexes(e,n){const r=ad(this.indexes_,i=>{if(i===Fo)return i;{const s=n.get(e.name);return s?i.remove(new Z(e.name,s)):i}});return new Lr(r,this.indexSet_)}}let Ll,j=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&vx(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ll||(Ll=new t(new jt(_y),null,Lr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ll}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Ll:r}}getChild(n){const r=q(n);return null===r?this:this.getImmediateChild(r).getChild(ye(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(C(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new Z(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Ll:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=q(n);if(null===i)return r;{C(".priority"!==q(n)||1===oi(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(ye(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Ee,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+yx(this.getPriority().val())+":"),this.forEachChild(Ee,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":kA(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Z(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new Z(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new Z(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,Z.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,Z.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Vl?-1:0}withIndex(n){if(n===fr||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===fr||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Ee),s=r.getIterator(Ee);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===fr?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Vl=new class extends j{constructor(){super(new jt(_y),j.EMPTY_NODE,Lr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return j.EMPTY_NODE}isEmpty(){return!1}};function xe(t,e=null){if(null===t)return j.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),C(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new ko(t,xe(e));if(t instanceof Array){let n=j.EMPTY_NODE;return st(t,(r,i)=>{if(ar(t,r)&&"."!==r.substring(0,1)){const s=xe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(xe(e))}{const n=[];let r=!1;if(st(t,(o,a)=>{if("."!==o.substring(0,1)){const l=xe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Z(o,l)))}}),0===n.length)return j.EMPTY_NODE;const s=Id(n,wq,o=>o.name,_y);if(r){const o=Id(n,Ee.getCompare());return new j(s,xe(e),new Lr({".priority":o},{".priority":Ee}))}return new j(s,xe(e),Lr.Default)}}Object.defineProperties(Z,{MIN:{value:new Z(Fr,j.EMPTY_NODE)},MAX:{value:new Z(dr,Vl)}}),_x.__EMPTY_NODE=j.EMPTY_NODE,ko.__childrenNodeConstructor=j,function(t){yy=t}(Vl),function(t){wx=t}(Vl),function(t){Ex=t}(xe);class Cy extends wd{constructor(e){super(),this.indexPath_=e,C(!G(e)&&".priority"!==q(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?ns(e.name,n.name):s}makePost(e,n){const r=xe(e),i=j.EMPTY_NODE.updateChild(this.indexPath_,r);return new Z(n,i)}maxPost(){const e=j.EMPTY_NODE.updateChild(this.indexPath_,Vl);return new Z(dr,e)}toString(){return kl(this.indexPath_,0).join("/")}}const Ey=new class extends wd{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?ns(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Z.MIN}maxPost(){return Z.MAX}makePost(e,n){const r=xe(e);return new Z(n,r)}toString(){return".value"}},Lo="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Nq=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Lo.charAt(n%64),n=Math.floor(n/64);C(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=Lo.charAt(e[i]);return C(20===o.length,"nextPushId: Length should be 20."),o}}();function Sx(t){return{type:"value",snapshotNode:t}}function Vo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Bl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function jl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class by{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){C(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Bl(n,a)):C(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Vo(n,r)):o.trackChildChange(jl(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Ee,(i,s)=>{n.hasChild(i)||r.trackChildChange(Bl(i,s))}),n.isLeafNode()||n.forEachChild(Ee,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(jl(i,s,o))}else r.trackChildChange(Vo(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?j.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ul{constructor(e){this.indexedFilter_=new by(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ul.getStartPost_(e),this.endPost_=Ul.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,n,r,i,s,o){return this.matches(new Z(n,r))||(r=j.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=j.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(j.EMPTY_NODE);const s=this;return n.forEachChild(Ee,(o,a)=>{s.matches(new Z(o,a))||(i=i.updateImmediateChild(o,j.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class Oq{constructor(e){this.rangedFilter_=new Ul(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Z(n,r))||(r=j.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=j.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let s;i=j.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();let l;if(l=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,!l)break;i=i.updateImmediateChild(a.name,a.node),o++}}else{let s,o,a,l;if(i=n.withIndex(this.index_),i=i.updatePriority(j.EMPTY_NODE),this.reverse_){l=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const d=this.index_.getCompare();a=(f,h)=>d(h,f)}else l=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();let c=0,u=!1;for(;l.hasNext();){const d=l.getNext();!u&&a(s,d)<=0&&(u=!0),u&&c<this.limit_&&a(d,o)<=0?c++:i=i.updateImmediateChild(d.name,j.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;C(a.numChildren()===this.limit_,"");const l=new Z(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=f&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=null==f?1:o(f,l);if(u&&!r.isEmpty()&&h>=0)return null!=s&&s.trackChildChange(jl(n,r,d)),a.updateImmediateChild(n,r);{null!=s&&s.trackChildChange(Bl(n,d));const m=a.updateImmediateChild(n,j.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=s&&s.trackChildChange(Vo(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}return r.isEmpty()?e:u&&o(c,l)>=0?(null!=s&&(s.trackChildChange(Bl(c.name,c.node)),s.trackChildChange(Vo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,j.EMPTY_NODE)):e}}class Dy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ee}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Fr}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ee}copy(){const e=new Dy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ax(t){const e={};if(t.isDefault())return e;let n;return t.index_===Ee?n="$priority":t.index_===Ey?n="$value":t.index_===fr?n="$key":(C(t.index_ instanceof Cy,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=qe(n),t.startSet_&&(e.startAt=qe(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+qe(t.indexStartName_))),t.endSet_&&(e.endAt=qe(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+qe(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function xx(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Ee&&(e.i=t.index_.toString()),e}class Sd extends cx{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=xl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(C(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Sd.getListenId_(e,r),a={};this.listens_[o]=a;const l=Ax(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),To(this.listens_,o)===a){let f;f=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(f,null)}})}unlisten(e,n){const r=Sd.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Ax(e._queryParams),r=e._path.toString(),i=new Cl;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=wl(a.responseText)}catch(c){Rt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&Rt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class jq{constructor(){this.rootNode_=j.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Ad(){return{value:null,children:new Map}}function Bo(t,e,n){if(G(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=q(e);t.children.has(r)||t.children.set(r,Ad()),Bo(t.children.get(r),e=ye(e),n)}}function Ay(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{Ay(i,new de(e.toString()+"/"+r),n)})}class Hq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&st(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class zq{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Hq(e);const r=1e4+2e4*Math.random();Ml(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;st(e,(i,s)=>{s>0&&ar(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ml(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var mn=(()=>(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(mn||(mn={})),mn))();function My(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class xd{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=mn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(G(this.path)){if(null!=this.affectedTree.value)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new de(e));return new xd(oe(),n,this.revert)}}return C(q(this.path)===e,"operationForChild called for unrelated child."),new xd(ye(this.path),this.affectedTree,this.revert)}}class Hl{constructor(e,n){this.source=e,this.path=n,this.type=mn.LISTEN_COMPLETE}operationForChild(e){return G(this.path)?new Hl(this.source,oe()):new Hl(this.source,ye(this.path))}}class ss{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=mn.OVERWRITE}operationForChild(e){return G(this.path)?new ss(this.source,oe(),this.snap.getImmediateChild(e)):new ss(this.source,ye(this.path),this.snap)}}class jo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=mn.MERGE}operationForChild(e){if(G(this.path)){const n=this.children.subtree(new de(e));return n.isEmpty()?null:n.value?new ss(this.source,oe(),n.value):new jo(this.source,oe(),n)}return C(q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new jo(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ai{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(G(e))return this.isFullyInitialized()&&!this.filtered_;const n=q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class qq{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function $l(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>function(t,e,n){if(null==e.childName||null==n.childName)throw bo("Should only compare child_ events.");const r=new Z(e.childName,e.snapshotNode),i=new Z(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),o.forEach(a=>{const l=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Rd(t,e){return{eventCache:t,serverCache:e}}function Wl(t,e,n,r){return Rd(new ai(e,n,r),t.serverCache)}function Mx(t,e,n,r){return Rd(t.eventCache,new ai(e,n,r))}function Md(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function os(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Ny;class we{constructor(e,n=(()=>(Ny||(Ny=new jt(Nz)),Ny))()){this.value=e,this.children=n}static fromObject(e){let n=new we(null);return st(e,(r,i)=>{n=n.set(new de(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:oe(),value:this.value};if(G(e))return null;{const r=q(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(ye(e),n);return null!=s?{path:Te(new de(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(G(e))return this;{const n=q(e),r=this.children.get(n);return null!==r?r.subtree(ye(e)):new we(null)}}set(e,n){if(G(e))return new we(n,this.children);{const r=q(e),s=(this.children.get(r)||new we(null)).set(ye(e),n),o=this.children.insert(r,s);return new we(this.value,o)}}remove(e){if(G(e))return this.children.isEmpty()?new we(null):new we(null,this.children);{const n=q(e),r=this.children.get(n);if(r){const i=r.remove(ye(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new we(null):new we(this.value,s)}return this}}get(e){if(G(e))return this.value;{const n=q(e),r=this.children.get(n);return r?r.get(ye(e)):null}}setTree(e,n){if(G(e))return n;{const r=q(e),s=(this.children.get(r)||new we(null)).setTree(ye(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new we(this.value,o)}}fold(e){return this.fold_(oe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Te(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,oe(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(G(e))return null;{const s=q(e),o=this.children.get(s);return o?o.findOnPath_(ye(e),Te(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,oe(),n)}foreachOnPath_(e,n,r){if(G(e))return this;{this.value&&r(n,this.value);const i=q(e),s=this.children.get(i);return s?s.foreachOnPath_(ye(e),Te(n,i),r):new we(null)}}foreach(e){this.foreach_(oe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Te(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class jn{constructor(e){this.writeTree_=e}static empty(){return new jn(new we(null))}}function zl(t,e,n){if(G(e))return new jn(new we(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Mt(i,e);return s=s.updateChild(o,n),new jn(t.writeTree_.set(i,s))}{const i=new we(n),s=t.writeTree_.setTree(e,i);return new jn(s)}}}function Py(t,e,n){let r=t;return st(n,(i,s)=>{r=zl(r,Te(e,i),s)}),r}function Nx(t,e){if(G(e))return jn.empty();{const n=t.writeTree_.setTree(e,new we(null));return new jn(n)}}function Oy(t,e){return null!=as(t,e)}function as(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Mt(n.path,e)):null}function Px(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ee,(r,i)=>{e.push(new Z(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Z(r,i.value))}),e}function li(t,e){if(G(e))return t;{const n=as(t,e);return new jn(null!=n?new we(n):t.writeTree_.subtree(e))}}function ky(t){return t.writeTree_.isEmpty()}function Uo(t,e){return Ox(oe(),t.writeTree_,e)}function Ox(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(C(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=Ox(Te(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Te(t,".priority"),r)),n}}function Nd(t,e){return Bx(e,t)}function t7(t,e){if(t.snap)return gn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&gn(Te(t.path,n),e))return!0;return!1}function r7(t){return t.visible}function kx(t,e,n){let r=jn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)gn(n,o)?(a=Mt(n,o),r=zl(r,a,s.snap)):gn(o,n)&&(a=Mt(o,n),r=zl(r,oe(),s.snap.getChild(a)));else{if(!s.children)throw bo("WriteRecord should have .snap or .children");if(gn(n,o))a=Mt(n,o),r=Py(r,a,s.children);else if(gn(o,n))if(a=Mt(o,n),G(a))r=Py(r,oe(),s.children);else{const l=To(s.children,q(a));if(l){const c=l.getChild(ye(a));r=zl(r,oe(),c)}}}}}return r}function Fx(t,e,n,r,i){if(r||i){const s=li(t.visibleWrites,e);return!i&&ky(s)?n:i||null!=n||Oy(s,oe())?Uo(kx(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(gn(c.path,e)||gn(e,c.path))},e),n||j.EMPTY_NODE):null}{const s=as(t.visibleWrites,e);if(null!=s)return s;{const o=li(t.visibleWrites,e);return ky(o)?n:null!=n||Oy(o,oe())?Uo(o,n||j.EMPTY_NODE):null}}}function Pd(t,e,n,r){return Fx(t.writeTree,t.treePath,e,n,r)}function Fy(t,e){return function(t,e,n){let r=j.EMPTY_NODE;const i=as(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ee,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=li(t.visibleWrites,e);return n.forEachChild(Ee,(o,a)=>{const l=Uo(li(s,new de(o)),a);r=r.updateImmediateChild(o,l)}),Px(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return Px(li(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function Lx(t,e,n,r){return function(t,e,n,r,i){C(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Te(e,n);if(Oy(t.visibleWrites,s))return null;{const o=li(t.visibleWrites,s);return ky(o)?i.getChild(n):Uo(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function Od(t,e){return function(t,e){return as(t.visibleWrites,e)}(t.writeTree,Te(t.treePath,e))}function Ly(t,e,n){return function(t,e,n,r){const i=Te(e,n),s=as(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Uo(li(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Vx(t,e){return Bx(Te(t.treePath,e),t.writeTree)}function Bx(t,e){return{treePath:t,writeTree:e}}class d7{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;C("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),C(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,jl(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,Bl(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,Vo(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw bo("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,jl(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const jx=new class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class Vy{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new ai(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ly(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:os(this.viewCache_),s=function(t,e,n,r,i,s){return function(t,e,n,r,i,s,o){let a;const l=li(t.visibleWrites,e),c=as(l,oe());if(null!=c)a=c;else{if(null==n)return[];a=Uo(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&u.length<i;)0!==d(h,r)&&u.push(h),h=f.getNext();return u}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function Ux(t,e,n,r,i,s){const o=e.eventCache;if(null!=Od(r,n))return e;{let a,l;if(G(n))if(C(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=os(e),d=Fy(r,c instanceof j?c:j.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Pd(r,os(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=q(n);if(".priority"===c){C(1===oi(n),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Lx(r,n,u,l);a=null!=d?t.filter.updatePriority(u,d):o.getNode()}else{const u=ye(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=Lx(r,n,o.getNode(),l);d=null!=f?o.getNode().getImmediateChild(c).updateChild(u,f):o.getNode().getImmediateChild(c)}else d=Ly(r,c,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return Wl(e,a,o.isFullyInitialized()||G(n),t.filter.filtersNodes())}}function kd(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(G(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{const h=q(n);if(!l.isCompleteForPath(n)&&oi(n)>1)return e;const p=ye(n),g=l.getNode().getImmediateChild(h).updateChild(p,r);c=".priority"===h?u.updatePriority(l.getNode(),g):u.updateChild(l.getNode(),h,g,p,jx,null)}const d=Mx(e,c,l.isFullyInitialized()||G(n),u.filtersNodes());return Ux(t,d,n,i,new Vy(i,d,s),a)}function By(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new Vy(i,e,s);if(G(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Wl(e,c,!0,t.filter.filtersNodes());else{const d=q(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Wl(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=ye(n),h=a.getNode().getImmediateChild(d);let p;if(G(f))p=r;else{const m=u.getCompleteChild(d);p=null!=m?".priority"===py(f)&&m.getChild(hx(f)).isEmpty()?m:m.updateChild(f,r):j.EMPTY_NODE}l=h.equals(p)?e:Wl(e,t.filter.updateChild(a.getNode(),d,p,f,u,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function Hx(t,e){return t.eventCache.isCompleteForChild(e)}function $x(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function jy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=G(n)?r:new we(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=$x(0,e.serverCache.getNode().getImmediateChild(d),f);l=kd(t,l,new de(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&void 0===f.value;if(!u.hasChild(d)&&!h){const m=$x(0,e.serverCache.getNode().getImmediateChild(d),f);l=kd(t,l,new de(d),m,i,s,o,a)}}),l}class E7{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new by(r.getIndex()),s=function(t){return t.loadsAllData()?new by(t.getIndex()):t.hasLimit()?new Oq(t):new Ul(t)}(r);this.processor_=function(t){return{filter:t}}(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(j.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(j.EMPTY_NODE,a.getNode(),null),u=new ai(l,o.isFullyInitialized(),i.filtersNodes()),d=new ai(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Rd(d,u),this.eventGenerator_=new qq(this.query_)}get query(){return this.query_}}function D7(t,e){const n=os(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!G(e)&&!n.getImmediateChild(q(e)).isEmpty())?n.getChild(e):null}function Wx(t){return 0===t.eventRegistrations_.length}function zx(t,e,n){const r=[];if(n){C(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}else i.push(o)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function qx(t,e,n,r){e.type===mn.MERGE&&null!==e.source.queryId&&(C(os(t.viewCache_),"We should always have a full cache before handling merges"),C(Md(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function(t,e,n,r,i){const s=new d7;let o,a;if(n.type===mn.OVERWRITE){const c=n;c.source.fromUser?o=By(t,e,c.path,c.snap,r,i,s):(C(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!G(c.path),o=kd(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===mn.MERGE){const c=n;c.source.fromUser?o=function(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Te(n,l);Hx(e,q(u))&&(a=By(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Te(n,l);Hx(e,q(u))||(a=By(t,a,u,c,i,s,o))}),a}(t,e,c.path,c.children,r,i,s):(C(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=jy(t,e,c.path,c.children,r,i,a,s))}else if(n.type===mn.ACK_USER_WRITE){const c=n;o=c.revert?function(t,e,n,r,i,s){let o;if(null!=Od(r,n))return e;{const a=new Vy(r,e,i),l=e.eventCache.getNode();let c;if(G(n)||".priority"===q(n)){let u;if(e.serverCache.isFullyInitialized())u=Pd(r,os(e));else{const d=e.serverCache.getNode();C(d instanceof j,"serverChildren would be complete if leaf node"),u=Fy(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=q(n);let d=Ly(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?t.filter.updateChild(l,u,d,ye(n),a,s):e.eventCache.getNode().hasChild(u)?t.filter.updateChild(l,u,j.EMPTY_NODE,ye(n),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Pd(r,os(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Od(r,oe()),Wl(e,c,o,t.filter.filtersNodes())}}(t,e,c.path,r,i,s):function(t,e,n,r,i,s,o){if(null!=Od(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(G(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return kd(t,e,n,l.getNode().getChild(n),i,s,a,o);if(G(n)){let c=new we(null);return l.getNode().forEachChild(fr,(u,d)=>{c=c.set(new de(u),d)}),jy(t,e,n,c,i,s,a,o)}return e}{let c=new we(null);return r.foreach((u,d)=>{const f=Te(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),jy(t,e,n,c,i,s,a,o)}}(t,e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==mn.LISTEN_COMPLETE)throw bo("Unknown operation type: "+n.type);o=function(t,e,n,r,i){const s=e.serverCache;return Ux(t,Mx(e,s.getNode(),s.isFullyInitialized()||G(n),s.isFiltered()),n,r,jx,i)}(t,e,n.path,r,s)}const l=s.getChanges();return function(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Md(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Sx(Md(e)))}}(e,o,l),{viewCache:o,changes:l}}(t.processor_,i,e,n,r);return function(t,e){C(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),C(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),C(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Gx(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Gx(t,e,n,r){return function(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),$l(t,i,"child_removed",e,r,n),$l(t,i,"child_added",e,r,n),$l(t,i,"child_moved",s,r,n),$l(t,i,"child_changed",e,r,n),$l(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let Fd,Vd;class Kx{constructor(){this.views=new Map}}function Uy(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return C(null!=s,"SyncTree gave us an op for an invalid query."),qx(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(qx(o,e,n,r));return s}}function Qx(t,e,n,r,i){const o=t.views.get(e._queryIdentifier);if(!o){let a=Pd(n,i?r:null),l=!1;a?l=!0:r instanceof j?(a=Fy(n,r),l=!1):(a=j.EMPTY_NODE,l=!1);const c=Rd(new ai(a,l,!1),new ai(r,i,!1));return new E7(e,c)}return o}function Yx(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ci(t,e){let n=null;for(const r of t.views.values())n=n||D7(r,e);return n}function Jx(t,e){return e._queryParams.loadsAllData()?Ld(t):t.views.get(e._queryIdentifier)}function Zx(t,e){return null!=Jx(t,e)}function ui(t){return null!=Ld(t)}function Ld(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let O7=1;class Xx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new we(null),this.pendingWriteTree_={visibleWrites:jn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Hy(t,e,n,r,i){return function(t,e,n,r,i){C(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=zl(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Ho(t,new ss({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function di(t,e,n=!1){const r=function(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);C(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&t7(a,r.path)?i=!1:gn(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function(t){t.visibleWrites=kx(t.allWrites,r7,oe()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=Nx(t.visibleWrites,r.path):st(r.children,l=>{t.visibleWrites=Nx(t.visibleWrites,Te(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let s=new we(null);return null!=r.snap?s=s.set(oe(),!0):st(r.children,o=>{s=s.set(new de(o),!0)}),Ho(t,new xd(r.path,s,n))}return[]}function ql(t,e,n){return Ho(t,new ss({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function $y(t,e,n,r){const i=e._path,s=t.syncPointTree_.get(i);let o=[];if(s&&("default"===e._queryIdentifier||Zx(s,e))){const a=function(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=ui(t);if("default"===i)for(const[l,c]of t.views.entries())o=o.concat(zx(c,n,r)),Wx(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(zx(l,n,r)),Wx(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!ui(t)&&s.push(new(C(Fd,"Reference.ts has not been loaded"),Fd)(e._repo,e._path)),{removed:s,events:o}}(s,e,n,r);(function(t){return 0===t.views.size})(s)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const l=a.removed;o=a.events;const c=-1!==l.findIndex(d=>d._queryParams.loadsAllData()),u=t.syncPointTree_.findOnPath(i,(d,f)=>ui(f));if(c&&!u){const d=t.syncPointTree_.subtree(i);if(!d.isEmpty()){const f=function(t){return t.fold((e,n,r)=>{if(n&&ui(n))return[Ld(n)];{let i=[];return n&&(i=Yx(n)),st(r,(s,o)=>{i=i.concat(o)}),i}})}(d);for(let h=0;h<f.length;++h){const p=f[h],m=p.query,g=rR(t,p);t.listenProvider_.startListening(Gl(m),jd(t,m),g.hashFn,g.onComplete)}}}if(!u&&l.length>0&&!r)if(c){const d=null;t.listenProvider_.stopListening(Gl(e),d)}else l.forEach(d=>{const f=t.queryToTagMap.get(Ud(d));t.listenProvider_.stopListening(Gl(d),f)});!function(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Ud(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}(t,l)}return o}function eR(t,e,n){const r=e._path;let i=null,s=!1;t.syncPointTree_.foreachOnPath(r,(d,f)=>{const h=Mt(d,r);i=i||ci(f,h),s=s||ui(f)});let a,o=t.syncPointTree_.get(r);o?(s=s||ui(o),i=i||ci(o,oe())):(o=new Kx,t.syncPointTree_=t.syncPointTree_.set(r,o)),null!=i?a=!0:(a=!1,i=j.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((f,h)=>{const p=ci(h,oe());p&&(i=i.updateImmediateChild(f,p))}));const l=Zx(o,e);if(!l&&!e._queryParams.loadsAllData()){const d=Ud(e);C(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const f=O7++;t.queryToTagMap.set(d,f),t.tagToQueryMap.set(f,d)}let u=function(t,e,n,r,i,s){const o=Qx(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),function(t,e){t.eventRegistrations_.push(e)}(o,n),function(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ee,(s,o)=>{r.push(Vo(s,o))}),n.isFullyInitialized()&&r.push(Sx(n.getNode())),Gx(t,r,n.getNode(),e)}(o,n)}(o,e,n,Nd(t.pendingWriteTree_,r),i,a);if(!l&&!s){const d=Jx(o,e);u=u.concat(function(t,e,n){const r=e._path,i=jd(t,e),s=rR(t,n),o=t.listenProvider_.startListening(Gl(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)C(!ui(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!G(c)&&u&&ui(u))return[Ld(u).query];{let f=[];return u&&(f=f.concat(Yx(u).map(h=>h.query))),st(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Gl(u),jd(t,u))}}return o}(t,e,d))}return u}function Bd(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=ci(a,Mt(o,e));if(c)return c});return Fx(i,e,s,n,!0)}function Ho(t,e){return tR(e,t.syncPointTree_,null,Nd(t.pendingWriteTree_,oe()))}function tR(t,e,n,r){if(G(t.path))return nR(t,e,n,r);{const i=e.get(oe());null==n&&null!=i&&(n=ci(i,oe()));let s=[];const o=q(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=Vx(r,o);s=s.concat(tR(a,l,c,u))}return i&&(s=s.concat(Uy(i,t,r,n))),s}}function nR(t,e,n,r){const i=e.get(oe());null==n&&null!=i&&(n=ci(i,oe()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Vx(r,o),u=t.operationForChild(o);u&&(s=s.concat(nR(u,a,l,c)))}),i&&(s=s.concat(Uy(i,t,r,n))),s}function rR(t,e){const n=e.query,r=jd(t,n);return{hashFn:()=>(function(t){return t.viewCache_.serverCache.getNode()}(e)||j.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function(t,e,n){const r=Wy(t,n);if(r){const i=zy(r),s=i.path,o=i.queryId,a=Mt(s,e);return qy(t,s,new Hl(My(o),a))}return[]}(t,n._path,r):function(t,e){return Ho(t,new Hl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const s=function(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return $y(t,n,null,s)}}}}function jd(t,e){const n=Ud(e);return t.queryToTagMap.get(n)}function Ud(t){return t._path.toString()+"$"+t._queryIdentifier}function Wy(t,e){return t.tagToQueryMap.get(e)}function zy(t){const e=t.indexOf("$");return C(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new de(t.substr(0,e))}}function qy(t,e,n){const r=t.syncPointTree_.get(e);return C(r,"Missing sync point for query tag that we're tracking"),Uy(r,n,Nd(t.pendingWriteTree_,e),null)}function Gl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(C(Vd,"Reference.ts has not been loaded"),Vd)(t._repo,t._path):t}class Gy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Gy(n)}node(){return this.node_}}class Ky{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Te(this.path_,e);return new Ky(this.syncTree_,n)}node(){return Bd(this.syncTree_,this.path_)}}const iR=function(t,e,n){return t&&"object"==typeof t?(C(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?G7(t[".sv"],e,n):"object"==typeof t[".sv"]?K7(t[".sv"],e):void C(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},G7=function(t,e,n){if("timestamp"===t)return n.timestamp;C(!1,"Unexpected server value: "+t)},K7=function(t,e,n){t.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&C(!1,"Unexpected increment value: "+r);const i=e.node();if(C(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},sR=function(t,e,n,r){return Yy(e,new Ky(n,t),r)},Qy=function(t,e,n){return Yy(t,new Gy(e),n)};function Yy(t,e,n){const r=t.getPriority().val(),i=iR(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=iR(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ko(a,xe(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ko(i))),o.forEachChild(Ee,(a,l)=>{const c=Yy(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class Jy{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Hd(t,e){let n=e instanceof de?e:new de(e),r=t,i=q(n);for(;null!==i;){const s=To(r.node.children,i)||{children:{},childCount:0};r=new Jy(i,r,s),n=ye(n),i=q(n)}return r}function ls(t){return t.node.value}function Zy(t,e){t.node.value=e,Xy(t)}function oR(t){return t.node.childCount>0}function $d(t,e){st(t.node.children,(n,r)=>{e(new Jy(n,t,r))})}function aR(t,e,n,r){n&&!r&&e(t),$d(t,i=>{aR(i,e,!0,r)}),n&&r&&e(t)}function Kl(t){return new de(null===t.parent?t.name:Kl(t.parent)+"/"+t.name)}function Xy(t){null!==t.parent&&function(t,e,n){const r=function(t){return void 0===ls(t)&&!oR(t)}(n),i=ar(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Xy(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Xy(t))}(t.parent,t.name,t)}const Z7=/[\[\].#$\/\u0000-\u001F\u007F]/,X7=/[\[\].#$\u0000-\u001F\u007F]/,ev=10485760,Wd=function(t){return"string"==typeof t&&0!==t.length&&!Z7.test(t)},lR=function(t){return"string"==typeof t&&0!==t.length&&!X7.test(t)},hr=function(t,e,n,r){r&&void 0===e||Yl(zi(t,"value"),e,n)},Yl=function(t,e,n){const r=n instanceof de?new hq(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+rs(r));if("function"==typeof e)throw new Error(t+"contains a function "+rs(r)+" with contents = "+e.toString());if(yd(e))throw new Error(t+"contains "+e.toString()+" "+rs(r));if("string"==typeof e&&e.length>ev/3&&ld(e)>ev)throw new Error(t+"contains a string greater than "+ev+" utf8 bytes "+rs(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(st(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Wd(o)))throw new Error(t+" contains an invalid key ("+o+") "+rs(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ld(e),px(t)})(r,o),Yl(t,a,r),function(t){const e=t.parts_.pop();t.byteLength_-=ld(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+rs(r)+" in addition to actual children.")}},cR=function(t,e,n,r){if(r&&void 0===e)return;const i=zi(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];st(e,(o,a)=>{const l=new de(o);if(Yl(i,a,Te(n,l)),".priority"===py(l)&&!function(t){return null===t||"string"==typeof t||"number"==typeof t&&!yd(t)||t&&"object"==typeof t&&ar(t,".sv")}(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=kl(r);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!Wd(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(fq);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&gn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},nv=function(t,e,n,r){if(!(r&&void 0===n||lR(n)))throw new Error(zi(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pr=function(t,e){if(".info"===q(e))throw new Error(t+" failed = Can't modify data under /.info/")};class rG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zd(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!gy(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function rv(t,e,n){zd(t,n),dR(t,r=>gy(r,e))}function _n(t,e,n){zd(t,n),dR(t,r=>gn(r,e)||gn(e,r))}function dR(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(iG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function iG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();ts&&it("event: "+n.toString()),Po(r)}}}class oG{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ad(),this.transactionQueueTree_=new Jy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hR(t){const n=t.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Zl(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:hR(t)})}function pR(t,e,n,r,i){t.dataUpdateCount++;const s=new de(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=ad(n,c=>xe(c));o=function(t,e,n,r){const i=Wy(t,r);if(i){const s=zy(i),o=s.path,a=s.queryId,l=Mt(o,e),c=we.fromObject(n);return qy(t,o,new jo(My(a),l,c))}return[]}(t.serverSyncTree_,s,l,i)}else{const l=xe(n);o=function(t,e,n,r){const i=Wy(t,r);if(null!=i){const s=zy(i),o=s.path,a=s.queryId,l=Mt(o,e);return qy(t,o,new ss(My(a),l,n))}return[]}(t.serverSyncTree_,s,l,i)}else if(r){const l=ad(n,c=>xe(c));o=function(t,e,n){const r=we.fromObject(n);return Ho(t,new jo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{const l=xe(n);o=ql(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Wo(t,s)),_n(t.eventQueue_,a,o)}function gR(t,e){iv(t,"connected",e),!1===e&&function(t){$o(t,"onDisconnectEvents");const e=Zl(t),n=Ad();Ay(t.onDisconnect_,oe(),(i,s)=>{const o=sR(i,s,t.serverSyncTree_,e);Bo(n,i,o)});let r=[];Ay(n,oe(),(i,s)=>{r=r.concat(ql(t.serverSyncTree_,i,s));const o=lv(t,i);Wo(t,o)}),t.onDisconnect_=Ad(),_n(t.eventQueue_,oe(),r)}(t)}function iv(t,e,n){const r=new de("/.info/"+e),i=xe(n);t.infoData_.updateSnapshot(r,i);const s=ql(t.infoSyncTree_,r,i);_n(t.eventQueue_,r,s)}function qd(t){return t.nextWriteId_++}function ov(t,e,n){let r;r=".info"===q(e._path)?$y(t.infoSyncTree_,e,n):$y(t.serverSyncTree_,e,n),rv(t.eventQueue_,e._path,r)}function $o(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),it(n,...e)}function fi(t,e,n,r){e&&Po(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function av(t,e,n){return Bd(t.serverSyncTree_,e,n)||j.EMPTY_NODE}function Gd(t,e=t.transactionQueueTree_){if(e||Kd(t,e),ls(e)){const n=vR(t,e);C(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function(t,e,n){const r=n.map(c=>c.currentWriteId),i=av(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];C(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Mt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{$o(t,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(di(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Kd(t,Hd(t.transactionQueueTree_,e)),Gd(t,t.transactionQueueTree_),_n(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Po(d[f])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{Rt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Wo(t,e)}},o)}(t,Kl(e),n)}else oR(e)&&$d(e,n=>{Gd(t,n)})}function Wo(t,e){const n=yR(t,e),r=Kl(n);return function(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Mt(n,l.path);let d,u=!1;if(C(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(di(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)u=!0,d="maxretry",i=i.concat(di(t.serverSyncTree_,l.currentWriteId,!0));else{const f=av(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(void 0!==h){Yl("transaction failed: Data returned ",h,l.path);let p=xe(h);"object"==typeof h&&null!=h&&ar(h,".priority")||(p=p.updatePriority(f.getPriority()));const g=l.currentWriteId,y=Zl(t),_=Qy(p,f,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=qd(t),o.splice(o.indexOf(g),1),i=i.concat(Hy(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(di(t.serverSyncTree_,g,!0))}else u=!0,d="nodata",i=i.concat(di(t.serverSyncTree_,l.currentWriteId,!0))}_n(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Kd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Po(r[a]);Gd(t,t.transactionQueueTree_)}(t,vR(t,n),r),r}function yR(t,e){let n,r=t.transactionQueueTree_;for(n=q(e);null!==n&&void 0===ls(r);)r=Hd(r,n),n=q(e=ye(e));return r}function vR(t,e){const n=[];return CR(t,e,n),n.sort((r,i)=>r.order-i.order),n}function CR(t,e,n){const r=ls(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);$d(e,i=>{CR(t,i,n)})}function Kd(t,e){const n=ls(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Zy(e,n.length>0?n:void 0)}$d(e,r=>{Kd(t,r)})}function lv(t,e){const n=Kl(yR(t,e)),r=Hd(t.transactionQueueTree_,e);return function(t,e,n){let r=t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{cv(t,i)}),cv(t,r),aR(r,i=>{cv(t,i)}),n}function cv(t,e){const n=ls(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(C(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(C(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(di(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Zy(e,void 0):n.length=s+1,_n(t.eventQueue_,Kl(e),i);for(let o=0;o<r.length;o++)Po(r[o])}}const uv=function(t,e){const n=wG(t),r=n.namespace;return"firebase.com"===n.domain&&ur(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&ur("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ay(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new de(n.pathString)}},wG=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");-1===u&&(u=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=function(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(t.substring(u,d)));const f=function(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Rt(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class ER{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+qe(this.snapshot.exportVal())}}class wR{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class bR{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return C(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class en{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return G(this._path)?null:py(this._path)}get ref(){return new Un(this._repo,this._path)}get _queryIdentifier(){const e=xx(this._queryParams),n=iy(e);return"{}"===n?"default":n}get _queryObject(){return xx(this._queryParams)}isEqual(e){if(!((e=si(e))instanceof en))return!1;const n=this._repo===e._repo,r=gy(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class Un extends en{constructor(e,n){super(e,n,new Dy,!1)}get parent(){const e=hx(this._path);return null===e?null:new Un(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class cs{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new de(e),r=us(this.ref,e);return new cs(this._node.getChild(n),r,Ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new cs(i,us(this.ref,r),Ee)))}hasChild(e){const n=new de(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function DR(t,e){return(t=si(t))._checkNotDeleted("ref"),void 0!==e?us(t._root,e):t._root}function us(t,e){return null===q((t=si(t))._path)?(n=e,n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),nv("child","path",n,!1)):nv("child","path",e,!1),new Un(t._repo,Te(t._path,e));var n}function DG(t,e){t=si(t),pr("push",t._path),hr("push",e,t._path,!0);const n=hR(t._repo),r=Nq(n),i=us(t,r),s=us(t,r);let o;return o=null!=e?dv(s,e).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function IG(t){return pr("remove",t._path),dv(t,null)}function dv(t,e){t=si(t),pr("set",t._path),hr("set",e,t._path,!1);const n=new Cl;return function(t,e,n,r,i){$o(t,"set",{path:e.toString(),value:n,priority:r});const s=Zl(t),o=xe(n,r),a=Bd(t.serverSyncTree_,e),l=Qy(o,a,s),c=qd(t),u=Hy(t.serverSyncTree_,e,l,c,!0);zd(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const p="ok"===f;p||Rt("set at "+e+" failed: "+f);const m=di(t.serverSyncTree_,c,!p);_n(t.eventQueue_,e,m),fi(0,i,f,h)});const d=lv(t,e);Wo(t,d),_n(t.eventQueue_,d,[])}(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function TG(t,e){cR("update",e,t._path,!1);const n=new Cl;return function(t,e,n,r){$o(t,"update",{path:e.toString(),value:n});let i=!0;const s=Zl(t),o={};if(st(n,(a,l)=>{i=!1,o[a]=sR(Te(e,a),xe(l),t.serverSyncTree_,s)}),i)it("update() called with empty data.  Don't do anything."),fi(0,r,"ok",void 0);else{const a=qd(t),l=function(t,e,n,r){!function(t,e,n,r){C(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Py(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=we.fromObject(n);return Ho(t,new jo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,o,a);zd(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d="ok"===c;d||Rt("update at "+e+" failed: "+c);const f=di(t.serverSyncTree_,a,!d),h=f.length>0?Wo(t,e):e;_n(t.eventQueue_,h,f),fi(0,r,c,u)}),st(n,c=>{const u=lv(t,Te(e,c));Wo(t,u)}),_n(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function SG(t){return function(t,e){const n=function(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=Mt(c,n);r=r||ci(u,d)});let i=t.syncPointTree_.get(n);i?r=r||ci(i,oe()):(i=new Kx,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=null!=r,o=s?new ai(r,!0,!1):null;return function(t){return Md(t.viewCache_)}(Qx(i,e,Nd(t.pendingWriteTree_,e._path),s?o.getNode():j.EMPTY_NODE,s))}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(r=>{const i=xe(r).withIndex(e._queryParams.getIndex()),s=ql(t.serverSyncTree_,e._path,i);return rv(t.eventQueue_,e._path,s),Promise.resolve(i)},r=>($o(t,"get for query "+qe(e)+" failed: "+r),Promise.reject(new Error(r))))}((t=si(t))._repo,t).then(e=>new cs(e,new Un(t._repo,t._path),t._queryParams.getIndex()))}class Jd{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new ER("value",this,new cs(e.snapshotNode,new Un(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new wR(this,e,n):null}matches(e){return e instanceof Jd&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Zd{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new wR(this,e,n):null}createEvent(e,n){C(null!=e.childName,"Child events should have a childName.");const r=us(new Un(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new ER(e.type,this,new cs(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Zd&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function IR(t,e,n,r){return function(t,e,n,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{ov(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new bR(n,s||void 0),a="value"===e?new Jd(o):new Zd(e,o);return function(t,e,n){let r;r=".info"===q(e._path)?eR(t.infoSyncTree_,e,n):eR(t.serverSyncTree_,e,n),rv(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>ov(t._repo,t,a)}(t,"value",e,n,r)}(function(t){C(!Fd,"__referenceConstructor has already been defined"),Fd=t})(Un),function(t){C(!Vd,"__referenceConstructor has already been defined"),Vd=t}(Un);const fv={};function BG(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||ur("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),it("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=uv(s,i),a=o.repoInfo;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=uv(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Nl(Nl.OWNER):new Bz(t.name,t.options,e);(function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Wd(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),lR(t)}(n))throw new Error(zi(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",o),G(o.path)||ur("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(t,e,n,r){let i=fv[e.name];i||(i={},fv[e.name]=i);let s=i[t.toURLString()];return s&&ur("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new oG(t,false,n,r),i[t.toURLString()]=s,s}(a,t,u,new Vz(t.name,n));return new $G(d,t)}class $G{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(t,e,n){if(t.stats_=uy(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Sd(t.repoInfo_,(r,i,s,o)=>{pR(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>gR(t,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new is(t.repoInfo_,e,(r,i,s,o)=>{pR(t,r,i,s,o)},r=>{gR(t,r)},r=>{!function(t,e){st(e,(n,r)=>{iv(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function(t,e){const n=t.toString();return cy[n]||(cy[n]=e()),cy[n]}(t.repoInfo_,()=>new zq(t.stats_,t.server_)),t.infoData_=new jq,t.infoSyncTree_=new Xx({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ql(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),iv(t,"connected",!1),t.serverSyncTree_=new Xx({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);_n(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Un(this._repo,oe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(t,e){const n=fv[e];(!n||n[t.key]!==t)&&ur(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ur("Cannot call "+e+" on a deleted database.")}}function WG(t=RS(),e){return dd(t,"database").getImmediate({identifier:e})}is.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},is.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},ty="9.5.0",lr(new Vn("database",(e,{instanceIdentifier:n})=>BG(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),lt(MA,"0.12.4",void 0),lt(MA,"0.12.4","esm2017");const ZG=cr(us,!0),XG=cr(SG,!0),e5=cr(WG,!0),t5=cr(IR,!0),n5=cr(DG,!0),ds=cr(DR,!0),r5=cr(IG,!0),RR=cr(dv,!0),i5=cr(TG,!0);var Xd,s5=new Uint8Array(16);function o5(){if(!Xd&&!(Xd="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xd(s5)}const a5=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c5=function(t){return"string"==typeof t&&a5.test(t)};for(var dt=[],gv=0;gv<256;++gv)dt.push((gv+256).toString(16).substr(1));const h5=function(t,e,n){var r=(t=t||{}).random||(t.rng||o5)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(dt[t[e+0]]+dt[t[e+1]]+dt[t[e+2]]+dt[t[e+3]]+"-"+dt[t[e+4]]+dt[t[e+5]]+"-"+dt[t[e+6]]+dt[t[e+7]]+"-"+dt[t[e+8]]+dt[t[e+9]]+"-"+dt[t[e+10]]+dt[t[e+11]]+dt[t[e+12]]+dt[t[e+13]]+dt[t[e+14]]+dt[t[e+15]]).toLowerCase();if(!c5(n))throw TypeError("Stringified UUID is invalid");return n}(r)};let MR=(()=>{class t{constructor(n,r){this._firebase=n,this.router=r,this.dataRef$=new _t,this._db=e5(this._firebase)}subscribeToDataChanges(n){t5(ds(this._db,`users/${n}`),r=>{this.dataRef$.emit(r.val())})}fetchDataById(n){const r=XG(ds(this._db,`users/${n}`)).then(i=>{if(i.exists())return i.val();throw this.router.navigate(["not-found"]),Error()}).catch(()=>zn);return this.subscribeToDataChanges(n),Ze(r)}createNewId(){const n=h5();return RR(ds(this._db,"users/"+n),{[n]:"placeholder"}),n}replaceById(n,r){RR(ds(this._db,`users/${n}/${r.id}`),r)}addToDo(n,r){const i=n5(ZG(ds(this._db),`users/${n}`)).key;r.id=null!=i?i:r.id;const s={[`users/${n}/${i}`]:r};i5(ds(this._db),s)}deleteToDo(n,r){r5(ds(this._db,`users/${n}/${r}`))}}return t.\u0275fac=function(n){return new(n||t)(D(Sl),D(xt))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function p5(t,e){1&t&&(ie(0,"h2"),We(1,"Add your first task"),se())}function g5(t,e){if(1&t&&(ie(0,"h2"),We(1),se()),2&t){const n=Ft(2);Xn(1),Yc("Total tasks: ",n.todos.length,"")}}function m5(t,e){if(1&t){const n=Ma();ie(0,"div",15),ie(1,"input",16),kt("click",function(){const s=bn(n).$implicit;return Ft(2).toggleDone(s.id)}),se(),ie(2,"li"),We(3),se(),ie(4,"div",17),kt("click",function(){const s=bn(n).$implicit;return Ft(2).editTodo(s.id)}),We(5,"Edit"),se(),ie(6,"div",18),kt("click",function(){const s=bn(n).$implicit;return Ft(2).deleteItem(s.id)}),We(7,"X"),se(),se()}if(2&t){const n=e.$implicit;Xn(1),qc("checked",n.completed?"":null),Xn(2),ep(n.content)}}function _5(t,e){if(1&t){const n=Ma();ie(0,"div",19),ie(1,"input",7,20),kt("input",function(){bn(n);const i=Ra(2);return Ft(2).inputEditHandler(i.value)}),se(),ie(3,"div",21),kt("click",function(){return bn(n),Ft(2).updateItem()}),We(4,"Update"),se(),ie(5,"div",22),kt("click",function(){return bn(n),Ft(2).closeEditing()}),We(6,"X"),se(),se()}if(2&t){const n=Ft(2);Xn(1),Dr("value",n.editingTodo.content)}}function y5(t,e){if(1&t){const n=Ma();ie(0,"div",23),ie(1,"p"),We(2,"The data has been changed by another user."),se(),ie(3,"p"),We(4,"Would you like to load the changed data or overwrite?"),se(),ie(5,"button",22),kt("click",function(){return bn(n),Ft(2).loadData()}),We(6,"Load data"),se(),ie(7,"button",22),kt("click",function(){return bn(n),Ft(2).overwriteData()}),We(8,"Overwrite"),se(),se()}}function v5(t,e){if(1&t){const n=Ma();ie(0,"article",2),ie(1,"h1"),We(2,"To-Do List"),se(),Yr(3,p5,2,0,"h2",3),Yr(4,g5,2,1,"ng-template",null,4,bp),ie(6,"section",5),ie(7,"form",6),kt("submit",function(i){return bn(n),Ft().addToDo(i)}),ie(8,"input",7,8),kt("input",function(){bn(n);const i=Ra(9);return Ft().inputHandler(i.value)}),se(),ie(10,"button",9),We(11,"+ Add"),se(),se(),se(),ie(12,"div",10),ie(13,"ul",11),Yr(14,m5,8,2,"div",12),se(),Yr(15,_5,7,1,"div",13),Yr(16,y5,9,0,"div",14),se(),se()}if(2&t){const n=Ra(5),r=Ft();Xn(3),Dr("ngIf",0===r.todos.length)("ngIfElse",n),Xn(5),Dr("value",r.newTodo),Xn(6),Dr("ngForOf",r.todos),Xn(1),Dr("ngIf",r.editingMode),Xn(1),Dr("ngIf",r.showAllert)}}function C5(t,e){1&t&&(ie(0,"h2"),We(1,"Loading..."),se())}let NR=(()=>{class t{constructor(n,r,i){this._db=n,this.route=r,this.router=i,this.isDataLoading=!0,this.todos=[],this.newTodo="",this.editingMode=!1,this.showAllert=!1,this._destoy$=new E8,this._userId="",this._updatedTodos=[],this._deletingTodo="",this._initialEditingTodoState={id:"",content:"",completed:!1},this.editingTodo=this._initialEditingTodoState}ngOnInit(){const n=window.location.href;this._userId=n.split("/").reverse()[0],""!==this._userId?this._fetchData(this._userId):(this._userId=this._db.createNewId(),this.router.navigate([`${this._userId}`],{relativeTo:this.route})),this._db.dataRef$.pipe(hm(this._destoy$)).subscribe(r=>{this._getUpdatedTodos(r)})}ngOnDestroy(){this._destoy$.next(!0),this._destoy$.complete()}hasConflicts(){return JSON.stringify(this.todos)!==JSON.stringify(this._updatedTodos)}_fetchData(n){this._db.fetchDataById(n).pipe(hm(this._destoy$)).subscribe(r=>{this._getInitialTodos(r),this.isDataLoading=!1})}toggleDone(n){this.todos.map(r=>{r.id===n&&(this.editingTodo=Object.assign(Object.assign(Object.assign({},r),{completed:!r.completed})))}),this.hasConflicts()?this.showAllert=!0:this.overwriteData()}deleteItem(n){if(this.hasConflicts())return this._deletingTodo=n,void(this.showAllert=!0);this._db.deleteToDo(this._userId,n),this._fetchData(this._userId)}addToDo(n){n.preventDefault(),this.hasConflicts()?this.showAllert=!0:(this._db.addToDo(this._userId,{id:"",content:this.newTodo,completed:!1}),this._fetchData(this._userId),this.newTodo="")}updateItem(){this.hasConflicts()?this.showAllert=!0:this.overwriteData()}loadData(){this._db.fetchDataById(this._userId).pipe(hm(this._destoy$)).subscribe(n=>{this._getInitialTodos(n),this.isDataLoading=!1}),this.editingMode=!1,this.showAllert=!1}overwriteData(){const n=this.todos.map(i=>Object.assign(Object.assign({},i))),r=n.findIndex(i=>i.id===this.editingTodo.id);n[r]=this.editingTodo,""===this.editingTodo.id&&(this._db.deleteToDo(this._userId,this._deletingTodo),this._fetchData(this._userId)),n.map(i=>{this._db.replaceById(this._userId,i)}),this.editingTodo=this._initialEditingTodoState,this._fetchData(this._userId),this._deletingTodo="",this.editingMode=!1,this.showAllert=!1}editTodo(n){this.editingMode=!0,this.todos.map(r=>{r.id===n&&(this.editingTodo=Object.assign(Object.assign({},r)))})}closeEditing(){this.editingMode=!this.editingMode}inputHandler(n){this.newTodo=n}inputEditHandler(n){this.editingTodo.content=n}_getInitialTodos(n){const r=n?Object.values(n):[];this.todos=r.filter(i=>i.id)}_getUpdatedTodos(n){const r=n?Object.values(n):[];this._updatedTodos=r.filter(i=>i.id)}}return t.\u0275fac=function(n){return new(n||t)(A(MR),A(Hi),A(xt))},t.\u0275cmp=ys({type:t,selectors:[["app-todo"]],decls:3,vars:2,consts:[["id","container",4,"ngIf","ngIfElse"],["loading",""],["id","container"],[4,"ngIf","ngIfElse"],["hasTasks",""],["id","section--add"],[3,"submit"],["name","content","type","text","required","",3,"value","input"],["input",""],["type","submit"],["id","list--container"],[1,"list"],["class","list-item--container",4,"ngFor","ngForOf"],["class","editing-container",4,"ngIf"],["class","alert",4,"ngIf"],[1,"list-item--container"],["type","checkbox","name","item-check",3,"click"],[1,"edit",3,"click"],[1,"delete",3,"click"],[1,"editing-container"],["inputEdit",""],[1,"update",3,"click"],[1,"close",3,"click"],[1,"alert"]],template:function(n,r){if(1&n&&(Yr(0,v5,17,6,"article",0),Yr(1,C5,2,0,"ng-template",null,1,bp)),2&n){const i=Ra(2);Dr("ngIf",!r.isDataLoading)("ngIfElse",i)}},directives:[O0,N0],styles:["[_ngcontent-%COMP%]:root{--pink: #f50057}#container[_ngcontent-%COMP%]{width:25rem;padding:2rem 1.5rem;background:white;box-shadow:3px 3px 10px #eee}.active[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline overline;text-decoration-line:underline overline;-webkit-text-decoration-color:var(--pink);text-decoration-color:var(--pink)}#section--add[_ngcontent-%COMP%]{display:flex;justify-content:left;align-items:center;grid-gap:2rem;gap:2rem}input[_ngcontent-%COMP%]{padding:.7rem 1rem;border:none;border:3px solid #333;margin-right:1rem}button[_ngcontent-%COMP%]{padding:.4rem .75rem;font-size:1.4rem;background:transparent;border:3px solid #333;box-shadow:4px 4px #f50057;cursor:pointer;transform:2s ease}button[_ngcontent-%COMP%]:active{position:relative;left:4px;top:4px;box-shadow:none;text-shadow:none}.nav--button[_ngcontent-%COMP%]{font-size:1rem}.list[_ngcontent-%COMP%]{padding-inline-start:0}.list-item--container[_ngcontent-%COMP%]{margin-bottom:0;position:relative;display:flex;grid-column-gap:1rem;column-gap:1rem;list-style-type:none;align-items:center;justify-content:space-between}.list-item--container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{opacity:0;left:15px;cursor:pointer;margin:auto 0;position:absolute;top:15px;width:45px;height:20px}.list-item--container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:space-between;background-image:url(data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23272727%22%20stroke-width%3D%223%22%2F%3E%3C%2Fsvg%3E);background-position:0;background-repeat:no-repeat;padding:15px 15px 15px 55px;overflow-wrap:break-word}input[type=checkbox][_ngcontent-%COMP%]:checked + li[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23f50057%22%20stroke-width%3D%229%22%2F%3E%3Cpath%20fill%3D%22%272727d%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22%2F%3E%3C%2Fsvg%3E);color:#999;text-decoration:line-through}input[type=checkbox][_ngcontent-%COMP%]:checked + li[_ngcontent-%COMP%] > .delete[_ngcontent-%COMP%]{text-decoration:none}.delete[_ngcontent-%COMP%]{font-weight:200;cursor:pointer}.edit[_ngcontent-%COMP%]{cursor:pointer}.editing-container[_ngcontent-%COMP%]{position:absolute;display:flex;grid-column-gap:1rem;column-gap:1rem;align-items:center;top:calc(50% - 3rem);right:calc(50% - 15rem);background:white;box-shadow:10px 10px 20px #d4d2d2;padding:2rem;width:25rem;height:max-content}.editing-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:1;height:max-content}.close[_ngcontent-%COMP%]{cursor:pointer}.update[_ngcontent-%COMP%]{cursor:pointer}.alert[_ngcontent-%COMP%]{position:absolute;display:grid;grid-row-gap:1rem;row-gap:1rem;align-items:center;top:10px;right:calc(50% - 15rem);background:white;box-shadow:10px 10px 20px #d4d2d2;padding:2rem;width:25rem;height:max-content}"]}),t})();const E5=[{path:"not-found",component:C8},{path:"",component:NR},{path:":id",component:NR}];let w5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qn({type:t}),t.\u0275inj=tn({imports:[[pS.forRoot(E5)],pS]}),t})(),b5=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ys({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){1&n&&(ie(0,"main"),Qh(1,"router-outlet"),se())},directives:[im],styles:["main[_ngcontent-%COMP%]{padding:40px 10px;font-size:1.2rem}"]}),t})(),D5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qn({type:t,bootstrap:[b5]}),t.\u0275inj=tn({providers:[MR],imports:[[AH,w5,YH,Iz(()=>Tz(dT_firebase))]]}),t})();(function(){if(gI)throw new Error("Cannot enable prod mode after platform setup.");pI=!1})(),TH().bootstrapModule(D5).catch(t=>console.error(t))}},Nt=>{Nt(Nt.s=2)}]);